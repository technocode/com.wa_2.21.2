package com.whatsapp;

import X.AbstractC000400g;
import X.AbstractC007503q;
import X.AbstractC03650Hc;
import X.AbstractC03660Hd;
import X.AbstractC03670He;
import X.AbstractC03680Hf;
import X.AbstractC03690Hg;
import X.AbstractC03700Hh;
import X.AbstractC03710Hi;
import X.AbstractC03720Hj;
import X.AbstractC03730Hk;
import X.AbstractC03740Hl;
import X.AbstractC03750Hm;
import X.AbstractC03760Hn;
import X.AbstractC03770Ho;
import X.AbstractC03780Hp;
import X.AbstractC03790Hq;
import X.AbstractC06100Rs;
import X.AbstractC06110Rt;
import X.AbstractC26561Lk;
import X.AbstractC43421yL;
import X.AbstractC49282Pv;
import X.AbstractC49342Qc;
import X.AbstractC51572Zg;
import X.AbstractC60972sI;
import X.AbstractC61862tr;
import X.AbstractC64972z6;
import X.AbstractC658231r;
import X.AbstractC658331s;
import X.AbstractC658531u;
import X.ActivityC004602e;
import X.ActivityC004702f;
import X.ActivityC004802g;
import X.ActivityC004902h;
import X.AnonymousClass008;
import X.AnonymousClass00C;
import X.AnonymousClass00D;
import X.AnonymousClass00E;
import X.AnonymousClass00G;
import X.AnonymousClass00S;
import X.AnonymousClass00T;
import X.AnonymousClass00Y;
import X.AnonymousClass010;
import X.AnonymousClass019;
import X.AnonymousClass01A;
import X.AnonymousClass01I;
import X.AnonymousClass01J;
import X.AnonymousClass01K;
import X.AnonymousClass01P;
import X.AnonymousClass01R;
import X.AnonymousClass01S;
import X.AnonymousClass01T;
import X.AnonymousClass01X;
import X.AnonymousClass022;
import X.AnonymousClass02J;
import X.AnonymousClass02M;
import X.AnonymousClass02N;
import X.AnonymousClass02U;
import X.AnonymousClass02X;
import X.AnonymousClass037;
import X.AnonymousClass03B;
import X.AnonymousClass03C;
import X.AnonymousClass03P;
import X.AnonymousClass03S;
import X.AnonymousClass04j;
import X.AnonymousClass088;
import X.AnonymousClass08B;
import X.AnonymousClass095;
import X.AnonymousClass098;
import X.AnonymousClass09D;
import X.AnonymousClass09H;
import X.AnonymousClass09J;
import X.AnonymousClass09V;
import X.AnonymousClass0A4;
import X.AnonymousClass0A6;
import X.AnonymousClass0A9;
import X.AnonymousClass0AH;
import X.AnonymousClass0AL;
import X.AnonymousClass0AM;
import X.AnonymousClass0AO;
import X.AnonymousClass0AP;
import X.AnonymousClass0AQ;
import X.AnonymousClass0AS;
import X.AnonymousClass0AV;
import X.AnonymousClass0BB;
import X.AnonymousClass0BP;
import X.AnonymousClass0BS;
import X.AnonymousClass0CG;
import X.AnonymousClass0CO;
import X.AnonymousClass0CP;
import X.AnonymousClass0D1;
import X.AnonymousClass0DG;
import X.AnonymousClass0DH;
import X.AnonymousClass0ED;
import X.AnonymousClass0EF;
import X.AnonymousClass0EH;
import X.AnonymousClass0EO;
import X.AnonymousClass0ET;
import X.AnonymousClass0EZ;
import X.AnonymousClass0Eg;
import X.AnonymousClass0FE;
import X.AnonymousClass0FI;
import X.AnonymousClass0Fh;
import X.AnonymousClass0GG;
import X.AnonymousClass0GW;
import X.AnonymousClass0GZ;
import X.AnonymousClass0Gb;
import X.AnonymousClass0Gd;
import X.AnonymousClass0HI;
import X.AnonymousClass0HJ;
import X.AnonymousClass0HK;
import X.AnonymousClass0HL;
import X.AnonymousClass0HN;
import X.AnonymousClass0I5;
import X.AnonymousClass0IY;
import X.AnonymousClass0JO;
import X.AnonymousClass0JS;
import X.AnonymousClass0JW;
import X.AnonymousClass0L1;
import X.AnonymousClass0L6;
import X.AnonymousClass0L7;
import X.AnonymousClass0LH;
import X.AnonymousClass0M3;
import X.AnonymousClass0M4;
import X.AnonymousClass0M9;
import X.AnonymousClass0MB;
import X.AnonymousClass0MC;
import X.AnonymousClass0MD;
import X.AnonymousClass0MP;
import X.AnonymousClass0SE;
import X.AnonymousClass0XP;
import X.AnonymousClass0YX;
import X.AnonymousClass0Z0;
import X.AnonymousClass0Z6;
import X.AnonymousClass1Ky;
import X.AnonymousClass1Kz;
import X.AnonymousClass1L1;
import X.AnonymousClass1L3;
import X.AnonymousClass1L4;
import X.AnonymousClass1L6;
import X.AnonymousClass1L9;
import X.AnonymousClass1LB;
import X.AnonymousClass1LD;
import X.AnonymousClass1LF;
import X.AnonymousClass1ME;
import X.AnonymousClass1OV;
import X.AnonymousClass1PE;
import X.AnonymousClass1PG;
import X.AnonymousClass1PN;
import X.AnonymousClass1S0;
import X.AnonymousClass1S3;
import X.AnonymousClass1S6;
import X.AnonymousClass1VY;
import X.AnonymousClass2C0;
import X.AnonymousClass2DW;
import X.AnonymousClass2HI;
import X.AnonymousClass2HJ;
import X.AnonymousClass2HL;
import X.AnonymousClass2HZ;
import X.AnonymousClass2I0;
import X.AnonymousClass2I2;
import X.AnonymousClass2Iq;
import X.AnonymousClass2Iv;
import X.AnonymousClass2Ix;
import X.AnonymousClass2J0;
import X.AnonymousClass2J1;
import X.AnonymousClass2J2;
import X.AnonymousClass2J3;
import X.AnonymousClass2J4;
import X.AnonymousClass2J5;
import X.AnonymousClass2J6;
import X.AnonymousClass2JD;
import X.AnonymousClass2NM;
import X.AnonymousClass2NP;
import X.AnonymousClass2UT;
import X.AnonymousClass2W4;
import X.AnonymousClass2Z6;
import X.AnonymousClass2ZC;
import X.AnonymousClass31y;
import X.AnonymousClass320;
import X.AnonymousClass322;
import X.AnonymousClass325;
import X.AnonymousClass33L;
import X.AnonymousClass33U;
import X.AnonymousClass36H;
import X.AnonymousClass377;
import X.AnonymousClass3ZE;
import X.C000300f;
import X.C002001d;
import X.C002101e;
import X.C002301g;
import X.C002701k;
import X.C004302a;
import X.C006803i;
import X.C006903j;
import X.C007003k;
import X.C007303n;
import X.C014308b;
import X.C014508d;
import X.C014708f;
import X.C015808q;
import X.C016909b;
import X.C017009c;
import X.C017109d;
import X.C02040Ak;
import X.C02220Bc;
import X.C02360Br;
import X.C02580Cq;
import X.C02590Cr;
import X.C02770Dj;
import X.C03160Fa;
import X.C03200Fe;
import X.C03270Fn;
import X.C03400Ga;
import X.C03460Gi;
import X.C03570Gt;
import X.C03620Gz;
import X.C03930Ii;
import X.C03960Il;
import X.C04230Jo;
import X.C04260Jr;
import X.C04270Js;
import X.C04350Ka;
import X.C04360Kb;
import X.C04410Kg;
import X.C04420Kh;
import X.C04470Km;
import X.C04490Ko;
import X.C04600Kz;
import X.C06170Sb;
import X.C06190Sd;
import X.C06470Tj;
import X.C06940Vh;
import X.C08560bL;
import X.C08680bX;
import X.C09050cD;
import X.C09060cE;
import X.C09100cI;
import X.C09110cJ;
import X.C09190cR;
import X.C09200cS;
import X.C10850fJ;
import X.C14330m5;
import X.C26481Lc;
import X.C27131Oe;
import X.C27241Os;
import X.C27831Rq;
import X.C27881Ry;
import X.C28051Sr;
import X.C28301Tu;
import X.C28511Up;
import X.C29891aN;
import X.C38551q4;
import X.C38561q5;
import X.C38581q7;
import X.C38591q8;
import X.C39431rW;
import X.C39441rX;
import X.C39551ri;
import X.C39561rj;
import X.C39581rl;
import X.C39591rm;
import X.C39621rp;
import X.C39641rr;
import X.C39651rs;
import X.C39661rt;
import X.C39691rw;
import X.C39701rx;
import X.C39711ry;
import X.C39731s0;
import X.C39741s1;
import X.C39751s2;
import X.C39771s5;
import X.C39781s6;
import X.C39791s7;
import X.C39801s8;
import X.C39811s9;
import X.C39821sA;
import X.C39831sB;
import X.C39841sC;
import X.C39851sD;
import X.C39921sK;
import X.C39981sQ;
import X.C40991uH;
import X.C42391wd;
import X.C47242Ha;
import X.C47282He;
import X.C47472Hz;
import X.C47502If;
import X.C47612Is;
import X.C48072Ku;
import X.C49252Pr;
import X.C49262Ps;
import X.C51882aC;
import X.C51982aO;
import X.C51992aP;
import X.C52002aQ;
import X.C52092aZ;
import X.C52142ae;
import X.C52162ag;
import X.C54402er;
import X.C58972mq;
import X.C59362nW;
import X.C59842oN;
import X.C662733o;
import X.C68433De;
import X.C68453Dg;
import X.C68783En;
import X.C69873Iw;
import X.C71953Qy;
import X.DialogInterface$OnClickListenerC25611Hq;
import X.DialogInterface$OnClickListenerC47622Iw;
import X.DialogInterface$OnClickListenerC47632Iy;
import X.DialogInterface$OnClickListenerC47642Iz;
import X.DialogInterface$OnDismissListenerC25621Hr;
import X.ScaleGestureDetector$OnScaleGestureListenerC669436n;
import X.ViewTreeObserver$OnPreDrawListenerC25661Hv;
import android.animation.AnimatorSet;
import android.animation.ObjectAnimator;
import android.app.Application;
import android.app.Dialog;
import android.app.PendingIntent;
import android.content.ActivityNotFoundException;
import android.content.BroadcastReceiver;
import android.content.ComponentName;
import android.content.Context;
import android.content.Intent;
import android.content.res.Configuration;
import android.database.DataSetObserver;
import android.database.sqlite.SQLiteDatabase;
import android.graphics.Point;
import android.graphics.drawable.Drawable;
import android.media.MediaPlayer;
import android.net.Uri;
import android.os.Build;
import android.os.Bundle;
import android.os.Handler;
import android.os.Looper;
import android.os.PowerManager;
import android.os.SystemClock;
import android.text.Html;
import android.text.InputFilter;
import android.text.TextUtils;
import android.text.TextWatcher;
import android.text.method.TextKeyListener;
import android.view.KeyEvent;
import android.view.Menu;
import android.view.MenuItem;
import android.view.MotionEvent;
import android.view.View;
import android.view.ViewGroup;
import android.view.ViewTreeObserver;
import android.view.accessibility.AccessibilityManager;
import android.view.animation.AlphaAnimation;
import android.view.animation.Animation;
import android.view.animation.AnimationSet;
import android.view.animation.DecelerateInterpolator;
import android.view.animation.ScaleAnimation;
import android.view.animation.TranslateAnimation;
import android.view.inputmethod.InputMethodManager;
import android.widget.AbsListView;
import android.widget.FrameLayout;
import android.widget.ImageButton;
import android.widget.ImageView;
import android.widget.ListView;
import android.widget.RelativeLayout;
import android.widget.TextView;
import androidx.fragment.app.DialogFragment;
import com.facebook.redex.ViewOnClickEBaseShape0S0100000_I0_0;
import com.google.android.search.verification.client.R;
import com.whatsapp.base.WaDialogFragment;
import com.whatsapp.chatinfo.ContactInfoActivity;
import com.whatsapp.conversation.conversationrow.WebPagePreviewView;
import com.whatsapp.jid.GroupJid;
import com.whatsapp.jid.Jid;
import com.whatsapp.jid.UserJid;
import com.whatsapp.picker.search.PickerSearchDialogFragment;
import com.whatsapp.util.Log;
import com.whatsapp.util.ViewOnClickCListenerShape10S0100000_I0;
import com.whatsapp.util.WhatsAppLibLoader;
import com.whatsapp.voipcalling.JoinableEducationDialogFragment;
import com.whatsapp.voipcalling.Voip;
import com.whatsapp.voipcalling.VoipActivityV2;
import java.io.IOException;
import java.util.ArrayList;
import java.util.Collection;
import java.util.HashMap;
import java.util.HashSet;
import java.util.Iterator;
import java.util.List;
import java.util.Locale;
import java.util.Map;
import java.util.Set;
import java.util.Stack;
import java.util.concurrent.atomic.AtomicReference;

public class Conversation extends AnonymousClass2DW implements AbstractC43421yL, AbstractC03650Hc, AbstractC03660Hd, AbstractC03670He, AbstractC03680Hf, AbstractC03690Hg, AbstractC03700Hh, AbstractC03710Hi, AbstractC03720Hj, AbstractC03730Hk, AbstractC03740Hl, AbstractC03750Hm, AbstractC03760Hn, AbstractC03770Ho, AbstractC03780Hp, AbstractC03790Hq {
    public static int A4g;
    public static boolean A4h;
    public static final ArrayList A4i = new ArrayList();
    public static final HashMap A4j = new HashMap();
    public static final HashMap A4k = new HashMap();
    public static final HashMap A4l = new HashMap();
    public static final HashMap A4m = new HashMap();
    public static final AtomicReference A4n = new AtomicReference(new AnonymousClass1LF(null, false, AnonymousClass0IY.A00()));
    public int A00;
    public int A01;
    public int A02;
    public int A03 = 0;
    public int A04;
    public int A05;
    public int A06;
    public int A07;
    public int A08;
    public long A09 = -1;
    public long A0A = 1;
    public BroadcastReceiver A0B;
    public Handler A0C;
    public View A0D;
    public View A0E;
    public View A0F;
    public View A0G;
    public View A0H;
    public View A0I;
    public View A0J;
    public View A0K;
    public View A0L;
    public View A0M;
    public ViewGroup A0N;
    public ViewGroup A0O;
    public ViewGroup A0P;
    public AccessibilityManager A0Q;
    public FrameLayout A0R;
    public FrameLayout A0S;
    public ImageButton A0T;
    public ImageButton A0U;
    public ImageButton A0V;
    public ImageButton A0W;
    public ImageButton A0X;
    public ListView A0Y;
    public TextView A0Z;
    public TextView A0a;
    public TextView A0b;
    public TextView A0c;
    public TextView A0d;
    public AbstractC06100Rs A0e;
    public AbstractC06110Rt A0f;
    public C39441rX A0g;
    public C39841sC A0h;
    public C39851sD A0i;
    public KeyboardPopupLayout A0j;
    public MentionableEntry A0k;
    public C27131Oe A0l;
    public WaEditText A0m;
    public AnonymousClass1S0 A0n;
    public AnonymousClass2Z6 A0o;
    public AnonymousClass2HJ A0p;
    public AnonymousClass2HL A0q;
    public C10850fJ A0r;
    public AnonymousClass2ZC A0s;
    public WebPagePreviewView A0t;
    public C52002aQ A0u;
    public AnonymousClass2JD A0v;
    public C59362nW A0w;
    public C52142ae A0x;
    public C08680bX A0y;
    public C007003k A0z;
    public AnonymousClass2NP A10;
    public C59842oN A11;
    public C54402er A12;
    public C49262Ps A13;
    public AnonymousClass02N A14;
    public C69873Iw A15;
    public AbstractC007503q A16;
    public AbstractC007503q A17;
    public C71953Qy A18;
    public C662733o A19;
    public C09110cJ A1A;
    public C04600Kz A1B;
    public ScaleGestureDetector$OnScaleGestureListenerC669436n A1C;
    public AnonymousClass377 A1D;
    public Boolean A1E;
    public Runnable A1F = null;
    public Runnable A1G;
    public String A1H;
    public String A1I;
    public String A1J;
    public String A1K;
    public String A1L;
    public String A1M;
    public ArrayList A1N;
    public List A1O = new ArrayList();
    public boolean A1P;
    public boolean A1Q;
    public boolean A1R;
    public boolean A1S = true;
    public boolean A1T;
    public boolean A1U;
    public boolean A1V;
    public boolean A1W = true;
    public boolean A1X;
    public boolean A1Y;
    public boolean A1Z = false;
    public boolean A1a;
    public boolean A1b;
    public boolean A1c;
    public boolean A1d;
    public boolean A1e = true;
    public boolean A1f;
    public boolean A1g;
    public boolean A1h = true;
    public boolean A1i;
    public boolean A1j;
    public boolean A1k = false;
    public boolean A1l;
    public final DataSetObserver A1m = new AnonymousClass1L6(this);
    public final Handler A1n = new AnonymousClass1L1(this, Looper.getMainLooper());
    public final Handler A1o = new Handler(Looper.getMainLooper());
    public final Handler A1p = new Handler(Looper.getMainLooper());
    public final TextWatcher A1q = new C39581rl(this);
    public final TextWatcher A1r = new C39701rx(this);
    public final TextWatcher A1s = new C39591rm(this);
    public final View.OnClickListener A1t = new ViewOnClickEBaseShape0S0100000_I0_0(this, 8);
    public final ViewTreeObserver.OnPreDrawListener A1u = new ViewTreeObserver$OnPreDrawListenerC25661Hv(this);
    public final AbsListView.OnScrollListener A1v = new AnonymousClass1Kz(this);
    public final TextView.OnEditorActionListener A1w = new AnonymousClass1Ky(this);
    public final AnonymousClass0AV A1x = AnonymousClass0AV.A00();
    public final AnonymousClass0GG A1y = AnonymousClass0GG.A00();
    public final C09050cD A1z = C09050cD.A00();
    public final C39561rj A20 = new C39561rj(this);
    public final C39771s5 A21 = new C39771s5(this);
    public final C39821sA A22 = new C39821sA(this);
    public final AnonymousClass0CO A23 = AnonymousClass0CO.A00();
    public final C39981sQ A24 = C39981sQ.A00;
    public final C26481Lc A25 = C26481Lc.A00();
    public final AbstractC26561Lk A26 = new C39731s0(this);
    public final AnonymousClass088 A27 = AnonymousClass088.A00();
    public final AnonymousClass01I A28 = AnonymousClass01I.A00();
    public final AnonymousClass0Z6 A29 = AnonymousClass0Z6.A00();
    public final AnonymousClass0AH A2A = AnonymousClass0AH.A03();
    public final AnonymousClass0I5 A2B = AnonymousClass0I5.A00();
    public final AnonymousClass03B A2C = AnonymousClass03B.A00();
    public final C09190cR A2D = C09190cR.A00();
    public final AnonymousClass0IY A2E = AnonymousClass0IY.A00();
    public final C04350Ka A2F = C04350Ka.A00();
    public final C000300f A2G = C000300f.A00();
    public final AnonymousClass0XP A2H = AnonymousClass0XP.A01();
    public final C002301g A2I = C002301g.A0K;
    public final AnonymousClass0GZ A2J = AnonymousClass0GZ.A00();
    public final C04360Kb A2K = C04360Kb.A00();
    public final AnonymousClass1OV A2L = new C39801s8(this);
    public final C40991uH A2M = C40991uH.A00;
    public final AnonymousClass01J A2N = AnonymousClass01J.A00();
    public final AnonymousClass0HI A2O = AnonymousClass0HI.A00();
    public final AnonymousClass1PG A2P = AnonymousClass1PG.A00();
    public final AnonymousClass1PN A2Q = AnonymousClass1PN.A00();
    public final C017009c A2R = C017009c.A00();
    public final C017109d A2S = C017109d.A00();
    public final C27831Rq A2T = C27831Rq.A00();
    public final AnonymousClass0HL A2U = AnonymousClass0HL.A00();
    public final C27881Ry A2V = C27881Ry.A00();
    public final AnonymousClass1S3 A2W = AnonymousClass1S3.A00();
    public final C42391wd A2X = C42391wd.A00;
    public final AnonymousClass1S6 A2Y = AnonymousClass1S6.A00();
    public final AnonymousClass0DH A2Z = AnonymousClass0DH.A00();
    public final AnonymousClass0HJ A2a = AnonymousClass0HJ.A02();
    public final AnonymousClass0BP A2b = new C39661rt(this);
    public final AnonymousClass08B A2c = AnonymousClass08B.A00;
    public final C014308b A2d = C014308b.A00();
    public final AnonymousClass0HK A2e = AnonymousClass0HK.A00();
    public final AnonymousClass0HN A2f = AnonymousClass0HN.A00();
    public final C04410Kg A2g = C04410Kg.A00();
    public final AnonymousClass0JS A2h = AnonymousClass0JS.A00();
    public final C47242Ha A2i = C47242Ha.A00();
    public final C47282He A2j = C47282He.A00();
    public final C47502If A2k = new C39811s9(this);
    public final C51882aC A2l = C51882aC.A00;
    public final AnonymousClass2Iq A2m = AnonymousClass2Iq.A00();
    public final AnonymousClass00C A2n = AnonymousClass00C.A00();
    public final AnonymousClass04j A2o = AnonymousClass04j.A00();
    public final AnonymousClass03P A2p = AnonymousClass03P.A00();
    public final C03270Fn A2q = C03270Fn.A00();
    public final AnonymousClass00S A2r = AnonymousClass00S.A00();
    public final AnonymousClass00G A2s = AnonymousClass00G.A01;
    public final AnonymousClass03C A2t = AnonymousClass03C.A00();
    public final AnonymousClass03S A2u = AnonymousClass03S.A00();
    public final AnonymousClass00D A2v = AnonymousClass00D.A00();
    public final AnonymousClass09V A2w = AnonymousClass09V.A00();
    public final AnonymousClass0EH A2x = AnonymousClass0EH.A00();
    public final AnonymousClass0DG A2y = AnonymousClass0DG.A00();
    public final AnonymousClass0A4 A2z = AnonymousClass0A4.A00();
    public final C006903j A30 = C006903j.A00();
    public final AnonymousClass0AQ A31 = AnonymousClass0AQ.A00();
    public final AnonymousClass0A9 A32 = AnonymousClass0A9.A00();
    public final AnonymousClass01K A33 = AnonymousClass01K.A00();
    public final AnonymousClass0GW A34 = AnonymousClass0GW.A00();
    public final AnonymousClass0AO A35 = AnonymousClass0AO.A00();
    public final AnonymousClass0AM A36 = AnonymousClass0AM.A00();
    public final AnonymousClass01T A37 = AnonymousClass01T.A00();
    public final AnonymousClass0AP A38 = AnonymousClass0AP.A00();
    public final AnonymousClass019 A39 = new C39651rs(this);
    public final C014508d A3A = C014508d.A00();
    public final AnonymousClass095 A3B = AnonymousClass095.A00();
    public final AnonymousClass098 A3C = AnonymousClass098.A00();
    public final AnonymousClass0CG A3D = AnonymousClass0CG.A00();
    public final C04490Ko A3E = C04490Ko.A00();
    public final C016909b A3F = C016909b.A00();
    public final AnonymousClass01P A3G = AnonymousClass01P.A00();
    public final C06190Sd A3H = C06190Sd.A00();
    public final C02590Cr A3I = C02590Cr.A00();
    public final C03930Ii A3J = C03930Ii.A00();
    public final C04270Js A3K = C04270Js.A00();
    public final AnonymousClass0M9 A3L = AnonymousClass0M9.A01();
    public final C002701k A3M = C002701k.A00();
    public final AnonymousClass0AS A3N = AnonymousClass0AS.A00();
    public final AnonymousClass0ET A3O = AnonymousClass0ET.A00();
    public final AnonymousClass00Y A3P = AnonymousClass00Y.A00();
    public final AnonymousClass0Eg A3Q = AnonymousClass0Eg.A00();
    public final C03400Ga A3R = C03400Ga.A00();
    public final AnonymousClass0Gd A3S = AnonymousClass0Gd.A00;
    public final AbstractC49282Pv A3T = AbstractC49282Pv.A00();
    public final AnonymousClass0Gb A3U = AnonymousClass0Gb.A00();
    public final C03460Gi A3V = C03460Gi.A00();
    public final AnonymousClass0EO A3W = AnonymousClass0EO.A00();
    public final AbstractC49342Qc A3X = new C38581q7(this);
    public final AnonymousClass0EZ A3Y = AnonymousClass0EZ.A01;
    public final AnonymousClass0ED A3Z = new C39791s7(this);
    public final AnonymousClass0EF A3a = new C39781s6(this);
    public final AnonymousClass01S A3b = AnonymousClass01S.A00();
    public final C02770Dj A3c = C02770Dj.A00();
    public final AnonymousClass0CP A3d = AnonymousClass0CP.A00();
    public final C04420Kh A3e = C04420Kh.A00();
    public final AnonymousClass09J A3f = AnonymousClass09J.A02;
    public final AnonymousClass09H A3g = AnonymousClass09H.A01();
    public final C03160Fa A3h = C03160Fa.A00();
    public final C015808q A3i = C015808q.A00();
    public final C02360Br A3j = C02360Br.A00();
    public final AnonymousClass0FE A3k = AnonymousClass0FE.A00();
    public final AnonymousClass0L1 A3l = AnonymousClass0L1.A00();
    public final AnonymousClass0BS A3m = AnonymousClass0BS.A01();
    public final AnonymousClass2W4 A3n = AnonymousClass2W4.A00();
    public final AbstractC60972sI A3o = new C39831sB(this);
    public final C68433De A3p = C68433De.A00;
    public final C68453Dg A3q = C68453Dg.A00();
    public final C02040Ak A3r = C02040Ak.A00();
    public final AbstractC61862tr A3s = new C38551q4(this);
    public final C68783En A3t = C68783En.A00();
    public final AnonymousClass0L6 A3u = AnonymousClass0L6.A00();
    public final C09100cI A3v = C09100cI.A01;
    public final AnonymousClass010 A3w = AnonymousClass010.A00();
    public final AnonymousClass0L7 A3x = AnonymousClass0L7.A00();
    public final AnonymousClass022 A3y = AnonymousClass022.A00();
    public final AnonymousClass0A6 A3z = AnonymousClass0A6.A00();
    public final AnonymousClass0AL A40 = AnonymousClass0AL.A01();
    public final AnonymousClass01R A41 = AnonymousClass01R.A01();
    public final AbstractC64972z6 A42 = AnonymousClass3ZE.A00();
    public final C03200Fe A43 = C03200Fe.A00();
    public final C014708f A44 = C014708f.A00();
    public final AnonymousClass0BB A45 = AnonymousClass0BB.A00();
    public final AnonymousClass02J A46 = AnonymousClass02J.A02();
    public final AbstractC658231r A47 = AbstractC658231r.A00();
    public final AbstractC658331s A48 = AbstractC658331s.A00();
    public final AbstractC658531u A49 = AbstractC658531u.A00();
    public final AnonymousClass31y A4A = AnonymousClass31y.A00();
    public final AnonymousClass320 A4B = AnonymousClass320.A00();
    public final AnonymousClass322 A4C = AnonymousClass322.A00();
    public final AnonymousClass325 A4D = AnonymousClass325.A00();
    public final C04230Jo A4E = C04230Jo.A00();
    public final AnonymousClass0D1 A4F = AnonymousClass0D1.A00();
    public final AnonymousClass33L A4G = new C39551ri(this);
    public final C03620Gz A4H = C03620Gz.A00();
    public final C03570Gt A4I = C03570Gt.A00();
    public final AnonymousClass33U A4J = new C39741s1(this);
    public final C04470Km A4K = C04470Km.A00;
    public final AnonymousClass09D A4L = AnonymousClass09D.A00();
    public final C09060cE A4M = C09060cE.A01();
    public final C04260Jr A4N = C04260Jr.A00();
    public final C02220Bc A4O = C02220Bc.A00();
    public final C02580Cq A4P = C02580Cq.A01();
    public final AnonymousClass36H A4Q = AnonymousClass36H.A00();
    public final AnonymousClass00T A4R = C002101e.A00();
    public final WhatsAppLibLoader A4S = WhatsAppLibLoader.A00();
    public final AnonymousClass0LH A4T = new C39751s2(this);
    public final AnonymousClass0JO A4U = AnonymousClass0JO.A00;
    public final C09200cS A4V = C09200cS.A00();
    public final AnonymousClass0Z0 A4W = AnonymousClass0Z0.A00();
    public final AnonymousClass0Fh A4X = AnonymousClass0Fh.A00();
    public final Runnable A4Y = new RunnableEBaseShape2S0100000_I0_2(this, 1);
    public final ArrayList A4Z = new ArrayList();
    public final Set A4a = new HashSet();
    public final Set A4b = new HashSet();
    public final Set A4c = new HashSet();
    public final Set A4d = new HashSet();
    public final Stack A4e = new Stack();
    public final int[] A4f = new int[2];

    @Override // X.AbstractC03650Hc
    public void A28() {
    }

    @Override // X.AbstractC43421yL
    public int A5Q() {
        return 0;
    }

    @Override // X.AbstractC03680Hf
    public void AGV() {
    }

    public static Intent A04(Context context, C007003k r2) {
        return A05(context, (AnonymousClass02N) r2.A02(AnonymousClass02N.class));
    }

    public static Intent A05(Context context, AnonymousClass02N r4) {
        return new Intent(context, Conversation.class).putExtra("jid", AnonymousClass1VY.A0D(r4)).addFlags(335544320);
    }

    public static Intent A06(Context context, AbstractC007503q r6, String str) {
        C007303n r4 = r6.A0n;
        Intent putExtra = A05(context, r4.A00).putExtra("start_t", SystemClock.uptimeMillis()).putExtra("row_id", r6.A0p).putExtra("query", str);
        C006803i.A05(putExtra, r4);
        return putExtra;
    }

    public static Intent A07(Context context, boolean z, boolean z2, String str, byte b, AnonymousClass02N r8, boolean z3) {
        Intent intent = new Intent(context, Conversation.class);
        intent.putExtra("jid", r8.getRawString());
        intent.putExtra("wa_type", b);
        intent.putExtra("share_msg", str);
        intent.putExtra("has_share", true);
        intent.putExtra("confirm", z);
        intent.putExtra("text_from_url", z2);
        intent.putExtra("number_from_url", z3);
        intent.addFlags(335544320);
        A0A(context, intent);
        return intent;
    }

    public static Animation A08(boolean z, boolean z2) {
        AlphaAnimation alphaAnimation;
        ScaleAnimation scaleAnimation;
        AnimationSet animationSet = new AnimationSet(true);
        if (z2) {
            alphaAnimation = new AlphaAnimation(0.0f, 1.0f);
        } else {
            alphaAnimation = new AlphaAnimation(1.0f, 0.0f);
        }
        alphaAnimation.setDuration(100);
        animationSet.addAnimation(alphaAnimation);
        if (z2) {
            float f = 0.0f;
            if (z) {
                f = 1.0f;
            }
            scaleAnimation = new ScaleAnimation(0.0f, 1.0f, 1.0f, 1.0f, 1, f, 1, 0.5f);
        } else {
            float f2 = 0.0f;
            if (z) {
                f2 = 1.0f;
            }
            scaleAnimation = new ScaleAnimation(1.0f, 0.0f, 1.0f, 1.0f, 1, f2, 1, 0.5f);
        }
        scaleAnimation.setDuration(100);
        animationSet.addAnimation(scaleAnimation);
        animationSet.setDuration(100);
        return animationSet;
    }

    public static Animation A09(boolean z, boolean z2, boolean z3) {
        AlphaAnimation alphaAnimation;
        AnimationSet animationSet = new AnimationSet(true);
        float f = 1.0f;
        if (z3) {
            if (z2) {
                alphaAnimation = new AlphaAnimation(0.0f, 1.0f);
            } else {
                alphaAnimation = new AlphaAnimation(1.0f, 0.0f);
            }
            alphaAnimation.setDuration(100);
            animationSet.addAnimation(alphaAnimation);
        }
        if (!z) {
            f = -1.0f;
        }
        float f2 = 0.0f;
        if (z2) {
            f2 = f;
        }
        if (z2) {
            f = 0.0f;
        }
        TranslateAnimation translateAnimation = new TranslateAnimation(1, f2, 1, f, 1, 0.0f, 1, 0.0f);
        translateAnimation.setDuration(100);
        animationSet.addAnimation(translateAnimation);
        animationSet.setDuration(100);
        return animationSet;
    }

    public static void A0A(Context context, Intent intent) {
        intent.setPackage(context.getPackageName());
        Intent intent2 = new Intent();
        intent2.setComponent(new ComponentName(context.getPackageName(), "FakeClass"));
        intent.putExtra("authentication_token", PendingIntent.getActivity(context.getApplicationContext(), 0, intent2, 0));
    }

    /* JADX WARNING: Code restructure failed: missing block: B:5:0x000c, code lost:
        if (r1 != false) goto L_0x000e;
     */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public static void A0B(android.content.Intent r2, X.AnonymousClass0XB r3) {
        /*
            if (r3 != 0) goto L_0x0003
            return
        L_0x0003:
            java.util.List r0 = r3.A02
            if (r0 == 0) goto L_0x000e
            boolean r1 = r0.isEmpty()
            r0 = 1
            if (r1 == 0) goto L_0x000f
        L_0x000e:
            r0 = 0
        L_0x000f:
            if (r0 == 0) goto L_0x0028
            java.util.List r1 = r3.A02
            if (r1 != 0) goto L_0x001c
            java.util.ArrayList r1 = new java.util.ArrayList
            r1.<init>()
            r3.A02 = r1
        L_0x001c:
            r0 = 0
            java.lang.Object r1 = r1.get(r0)
            java.lang.String r1 = (java.lang.String) r1
            java.lang.String r0 = "preferred_label"
            r2.putExtra(r0, r1)
        L_0x0028:
            return
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A0B(android.content.Intent, X.0XB):void");
    }

    public static void A0C(AnonymousClass02N r2) {
        AnonymousClass1LF r1 = (AnonymousClass1LF) A4n.get();
        if (!r1.A02) {
            Conversation conversation = r1.A00;
            if (conversation != null && !conversation.isFinishing()) {
                if (r2 == null || r2.equals(conversation.A14)) {
                    conversation.finish();
                }
            }
        } else if (r2 == null || r2.equals(r1.A00().A14)) {
            r1.A00().finish();
        }
    }

    public static final boolean A0D(AnonymousClass0MP r4, AbstractC007503q r5, boolean z) {
        AnonymousClass0M3 r52;
        AnonymousClass0M4 r0;
        if (((AbstractC007503q) r4).A04 != 1 || r5 == null || r5.A0m != 2 || r5.A04 != 1) {
            return false;
        }
        if ((z || !r5.A0n.A02 || r4.A0n.A02) && (r0 = (r52 = (AnonymousClass0M3) r5).A02) != null && r0.A0F != null && AnonymousClass0FI.A0r(r52)) {
            return true;
        }
        return false;
    }

    public final int A0Z() {
        Point point = new Point();
        getWindowManager().getDefaultDisplay().getSize(point);
        return (point.y - (getResources().getDimensionPixelSize(R.dimen.header_height) << 1)) / 5;
    }

    public final int A0a() {
        Point point = new Point();
        getWindowManager().getDefaultDisplay().getSize(point);
        int dimensionPixelSize = (point.y << 1) / getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height);
        int i = this.A07;
        if (i > dimensionPixelSize - 10) {
            StringBuilder A0S2 = AnonymousClass008.A0S("conversation/page size (from unseen):");
            A0S2.append(i + 10);
            Log.i(A0S2.toString());
            return this.A07 + 10;
        }
        AnonymousClass008.A0v("conversation/page size:", dimensionPixelSize);
        return dimensionPixelSize;
    }

    public final int A0b(int i) {
        if (i != 0) {
            if (i != 1) {
                if (i != 2) {
                    return R.drawable.ib_new_round;
                }
                if (this.A0O.getVisibility() == 0 || this.A0P.getVisibility() == 0) {
                    return R.drawable.ib_new_expanded;
                }
                return R.drawable.ib_new_round;
            } else if (this.A0k.A0C) {
                return R.drawable.ib_new_expanded_bottom;
            } else {
                if (this.A0O.getVisibility() == 0 && this.A0P.getVisibility() == 0) {
                    return R.drawable.ib_new_expanded;
                }
                return R.drawable.ib_new_round;
            }
        } else if (!this.A0k.A0C) {
            return R.drawable.ib_new_expanded;
        } else {
            return R.drawable.ib_new_expanded_bottom;
        }
    }

    public final AbstractC51572Zg A0c(C007303n r5) {
        int childCount = this.A0Y.getChildCount();
        for (int i = 0; i < childCount; i++) {
            View childAt = this.A0Y.getChildAt(i);
            if (childAt instanceof AbstractC51572Zg) {
                AbstractC51572Zg r1 = (AbstractC51572Zg) childAt;
                if (r1.A0h(r5)) {
                    return r1;
                }
            }
        }
        return null;
    }

    public final AbstractC007503q A0d() {
        C47612Is r1 = ((AnonymousClass2DW) this).A03;
        if (r1 == null || r1.isEmpty()) {
            return null;
        }
        return (AbstractC007503q) ((Map.Entry) r1.entrySet().iterator().next()).getValue();
    }

    public final AbstractC007503q A0e(AbstractC007503q r4) {
        int A022 = this.A0q.A02(r4);
        if (A022 < 0) {
            return null;
        }
        int i = A022 + 1;
        AbstractC007503q A042 = this.A0q.getItem(i);
        return (A042 == null || A042.A0n.A00 != null) ? A042 : this.A0q.getItem(i + 1);
    }

    public final void A0f() {
        C39441rX r0 = this.A0g;
        if (r0 != null) {
            ((AnonymousClass0JW) r0).A00.cancel(true);
            this.A0g = null;
        }
        C38591q8 r4 = new C38591q8(this);
        AnonymousClass01K r3 = this.A33;
        C26481Lc r1 = this.A25;
        AnonymousClass02N r02 = this.A14;
        if (r02 != null) {
            C39441rX r2 = new C39441rX(r3, r1, r4, r02);
            this.A0g = r2;
            this.A4R.ANC(r2, new Void[0]);
            return;
        }
        throw null;
    }

    /* JADX INFO: finally extract failed */
    public final void A0g() {
        MentionableEntry mentionableEntry = this.A0k;
        TextWatcher textWatcher = this.A1q;
        mentionableEntry.removeTextChangedListener(textWatcher);
        this.A1Y = false;
        this.A1H = null;
        this.A1I = null;
        try {
            this.A0k.setText("");
            A0v();
            TextKeyListener.clear(this.A0k.getText());
            this.A0k.addTextChangedListener(textWatcher);
            A0f();
        } catch (Throwable th) {
            this.A0k.addTextChangedListener(textWatcher);
            throw th;
        }
    }

    public final void A0h() {
        if (this.A0l == null) {
            getLayoutInflater().inflate(R.layout.voice_note_view, (ViewGroup) findViewById(R.id.voice_note_stub), true);
            C39691rw r2 = new C39691rw(this, this, this, this.A0j, this.A2r, ((ActivityC004702f) this).A0F, this.A4R, this.A27, this.A3P, this.A2G, this.A2K, this.A3d, this.A4U, this.A4X, this.A2p, ((AnonymousClass2C0) this).A01, this.A40, this.A1y, this.A3O, this.A2n, this.A4P, this.A3K, this.A2M, this.A2v, this.A1x, this.A25, this.A3e, this.A3y);
            this.A0l = r2;
            AnonymousClass02N r4 = this.A14;
            AnonymousClass00E.A0A(!r2.A0P(), "Do not update the ptt receiver once the recording has started");
            r2.A0X = r4;
            r2.A0Z = this.A17;
            if (r2 != null) {
                C27241Os r1 = this.A0w.A00;
                if (r1 instanceof C52162ag) {
                    r2.A0W = (C52162ag) r1;
                }
            }
        }
    }

    public final void A0i() {
        int i;
        if (this.A0P.getVisibility() == 0 && (i = this.A08) >= 0) {
            AnonymousClass008.A1L(AnonymousClass008.A0S("conversation/hidelinkpreview/start "), i);
            ViewGroup viewGroup = this.A0P;
            WebPagePreviewView webPagePreviewView = this.A0t;
            A0y(A0b(1));
            A13(viewGroup, webPagePreviewView, A1H());
            A4j.remove(this.A0z.A02(AnonymousClass02N.class));
            C27131Oe r1 = this.A0l;
            if (r1 != null) {
                r1.A0W = null;
            }
        }
    }

    public final void A0j() {
        if (this.A0i == null && this.A1W) {
            this.A0i = new C39851sD(this, this.A14, this.A0A, this.A09);
            Log.i("conversation/more-messages/time to load more");
            this.A4R.ANC(this.A0i, new Void[0]);
        }
    }

    public final void A0k() {
        ((ActivityC004702f) this).A0F.A0C(((AnonymousClass2C0) this).A01.A06(R.string.not_found), 0);
        this.A0m.sendAccessibilityEvent(8);
        this.A0m.requestFocus();
        this.A0m.A01(false);
    }

    public final void A0l() {
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/recreatemessagelist/");
        A0S2.append(this.A0A);
        A0S2.append(" ");
        AnonymousClass008.A1a(A0S2, this.A1W);
        C39851sD r0 = this.A0i;
        if (r0 != null) {
            ((AnonymousClass0JW) r0).A00.cancel(true);
        }
        AnonymousClass2HL r1 = this.A0q;
        r1.A0N.clear();
        r1.A0H.clear();
        int i = 0;
        C28511Up A052 = this.A33.A05(this.A14, this.A0A, A0a(), this.A09);
        this.A0A = A052.A01;
        int count = this.A0q.getCount();
        this.A0q.changeCursor(A052.A00);
        View view = this.A0v.A00;
        if (!this.A1W) {
            i = 8;
        }
        view.setVisibility(i);
        if (this.A1W && count > this.A0q.getCount()) {
            A0j();
        }
    }

    public final void A0m() {
        this.A0q.notifyDataSetChanged();
        if (this.A1T) {
            this.A1V = false;
            this.A1g = false;
            Log.d("conversation/adapter/dbgscroll/notifydatasetchanged/dividercentered/true freeze=false scrolltotop=false");
        }
    }

    public final void A0n() {
        this.A0z = this.A31.A02((AnonymousClass02N) this.A0z.A02(AnonymousClass02N.class));
        A0x();
        if (this.A1a && this.A0z.A02(AnonymousClass02U.class) == null) {
            StringBuilder A0S2 = AnonymousClass008.A0S("conversation");
            A0S2.append(this.A0z.A09);
            Log.d(A0S2.toString());
        }
        C007003k r1 = this.A0z;
        int i = 0;
        if (AnonymousClass1VY.A0a(r1.A09)) {
            this.A0E.setVisibility(8);
            this.A0c.setVisibility(0);
            this.A0c.setText(getString(R.string.cant_send_official_announcements));
            this.A0c.setClickable(false);
        } else {
            if (this.A1a) {
                AnonymousClass01T r2 = this.A37;
                Jid A022 = r1.A02(AnonymousClass02U.class);
                if (A022 == null) {
                    throw null;
                } else if (!r2.A01((AnonymousClass02X) A022).A0A(r2.A01)) {
                    this.A0E.setVisibility(8);
                    this.A0c.setVisibility(0);
                    TextView textView = this.A0c;
                    boolean z = this.A0z.A0S;
                    int i2 = R.string.cannot_send_not_a_group_participant;
                    if (z) {
                        i2 = R.string.cannot_send_chat_has_been_closed;
                    }
                    textView.setText(getString(i2));
                    this.A0c.setClickable(false);
                }
            }
            if (A1I()) {
                this.A0E.setVisibility(8);
                if (A1J()) {
                    C27131Oe r12 = this.A0l;
                    if (r12 != null) {
                        r12.A0N(false, false, true);
                    } else {
                        throw null;
                    }
                }
                this.A0c.setVisibility(0);
                this.A0c.setText(Html.fromHtml(((AnonymousClass2C0) this).A01.A0D(R.string.group_announcement_footer_description, String.format(Locale.US, "%06X", Integer.valueOf(16777215 & C004302a.A00(this, R.color.accent_light))))));
                this.A0c.setOnClickListener(new ViewOnClickCListenerShape10S0100000_I0(this, 4));
            } else {
                View view = this.A0E;
                if (this.A0f != null) {
                    i = 8;
                }
                view.setVisibility(i);
                this.A0c.setVisibility(8);
            }
        }
        if (this.A0E.getVisibility() == 8) {
            this.A0k.A00();
            A1K();
        }
        AnonymousClass2HI r13 = (AnonymousClass2HI) this.A0p.A00.get(C58972mq.class);
        if (r13 != null) {
            ((C58972mq) r13).A07(this.A0z);
            return;
        }
        throw null;
    }

    public final void A0o() {
        AnonymousClass2HL r3 = this.A0q;
        int i = this.A05;
        int i2 = this.A06;
        int i3 = this.A07;
        r3.A02 = i;
        r3.A03 = i2;
        r3.A04 = i3;
    }

    public final void A0p() {
        AbstractC51572Zg A0c2;
        if (((AnonymousClass2DW) this).A00 != null && ((AnonymousClass2DW) this).A03 != null && this.A17 == null && A0d() != null) {
            C47612Is r3 = ((AnonymousClass2DW) this).A03;
            if (r3.size() == 1 && AnonymousClass0FI.A0P(((AnonymousClass2DW) this).A0F, this.A37, (AbstractC007503q) r3.values().iterator().next()) && (A0c2 = A0c(A0d().A0n)) != null) {
                if (A0c2.A00() && ((AnonymousClass2I2) A0c2).A05 == 0) {
                    ObjectAnimator ofFloat = ObjectAnimator.ofFloat(((AnonymousClass2I2) A0c2).A0C, "translationX", (float) (A0c2.getWidth() / 6));
                    ofFloat.setDuration(600L).setInterpolator(new C06940Vh());
                    ofFloat.addListener(new C47472Hz(A0c2));
                    ObjectAnimator ofFloat2 = ObjectAnimator.ofFloat(((AnonymousClass2I2) A0c2).A0C, "translationX", 0.0f);
                    ofFloat2.setDuration(200L).setInterpolator(new DecelerateInterpolator());
                    ofFloat2.addListener(new AnonymousClass2I0(A0c2));
                    AnimatorSet animatorSet = new AnimatorSet();
                    animatorSet.play(ofFloat);
                    animatorSet.play(ofFloat2).after(900);
                    animatorSet.start();
                    ((AnonymousClass2I2) A0c2).A05 = 2;
                    A0c2.invalidate();
                }
                ((ActivityC004702f) this).A0F.A0C(((AnonymousClass2C0) this).A01.A06(R.string.swipe_to_reply_education), 1);
                A0W();
            }
        }
    }

    public final void A0q() {
        this.A07 = 0;
        this.A05 = 0;
        this.A06 = 0;
        A0o();
    }

    public final void A0r() {
        if (this.A1f) {
            A0s();
            this.A1f = false;
        } else if (this.A0Y.getLastVisiblePosition() >= this.A0Y.getCount() - 2) {
            A0s();
        } else {
            this.A0Y.smoothScrollBy((int) getResources().getDimension(R.dimen.conversation_row_min_height), 100);
        }
    }

    public final void A0s() {
        if (this.A1T) {
            this.A1V = false;
            this.A1g = false;
            Log.d("conversation/dbgscroll/scrolltobottom/scrolltotop/false freezelistpos=false dividercentered=true");
        }
        this.A1S = true;
        this.A0Y.post(new RunnableEBaseShape1S0100000_I0_1(this, 2));
    }

    public final void A0t() {
        int A002 = this.A0q.A00();
        int A0Z2 = A0Z();
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/center divider pos:");
        A0S2.append(this.A0q.A00());
        A0S2.append(" yOffset:");
        A0S2.append(A0Z2);
        Log.d(A0S2.toString());
        A10(this.A0Y.getHeaderViewsCount() + A002, A0Z2);
        this.A1V = false;
        this.A1T = false;
    }

    public final void A0u() {
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/session/active/jid ");
        A0S2.append(this.A14);
        Log.d(A0S2.toString());
        A4n.set(new AnonymousClass1LF(this, true, this.A2E));
    }

    public final void A0v() {
        this.A0k.setHint(((AnonymousClass2C0) this).A01.A06(R.string.type_a_message));
    }

    public final void A0w() {
        AtomicReference atomicReference = A4n;
        AnonymousClass1LF r3 = (AnonymousClass1LF) atomicReference.get();
        if (r3.A00 == this) {
            StringBuilder A0S2 = AnonymousClass008.A0S("conversation/session/inactive/jid ");
            A0S2.append(this.A14);
            Log.d(A0S2.toString());
            atomicReference.compareAndSet(r3, new AnonymousClass1LF(this, false, this.A2E));
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:108:0x0207, code lost:
        if (r2.A0A() != false) goto L_0x0209;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:211:0x0404, code lost:
        if ((r12.has("tb_last_shown_ts") && (!r12.has("tb_last_action_ts") || r12.getLong("tb_last_shown_ts") >= r12.getLong("tb_last_action_ts"))) != false) goto L_0x0406;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:9:0x0034, code lost:
        if (r10.A0E.A09(r8.A09) == false) goto L_0x0036;
     */
    /* JADX WARNING: Removed duplicated region for block: B:107:0x0201  */
    /* JADX WARNING: Removed duplicated region for block: B:116:0x0264  */
    /* JADX WARNING: Removed duplicated region for block: B:131:0x02bb  */
    /* JADX WARNING: Removed duplicated region for block: B:163:0x035d  */
    /* JADX WARNING: Removed duplicated region for block: B:197:0x03d7  */
    /* JADX WARNING: Removed duplicated region for block: B:198:0x03dd  */
    /* JADX WARNING: Removed duplicated region for block: B:220:0x0424  */
    /* JADX WARNING: Removed duplicated region for block: B:24:0x005a  */
    /* JADX WARNING: Removed duplicated region for block: B:40:0x00b6  */
    /* JADX WARNING: Removed duplicated region for block: B:42:0x00c3 A[RETURN] */
    /* JADX WARNING: Removed duplicated region for block: B:43:0x00c4  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final void A0x() {
        /*
        // Method dump skipped, instructions count: 1178
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A0x():void");
    }

    public final void A0y(int i) {
        A11(new C06470Tj(((AnonymousClass2C0) this).A01, C004302a.A03(this, i)));
    }

    public final void A0z(int i, int i2) {
        if (this.A0Y.getFirstVisiblePosition() >= i || this.A0Y.getLastVisiblePosition() <= i) {
            int i3 = -1;
            if (this.A0Y.getFirstVisiblePosition() < i) {
                i3 = 1;
            }
            this.A0Y.setTranscriptMode(0);
            this.A0Y.setSelectionFromTop(i, ((this.A0Y.getHeight() * i3) >> 2) + i2);
            this.A0Y.smoothScrollToPositionFromTop(i, i2);
            this.A0H.setVisibility(0);
        }
    }

    public final void A10(int i, int i2) {
        this.A0Y.setTranscriptMode(0);
        this.A0Y.setSelectionFromTop(i, i2);
    }

    public final void A11(Drawable drawable) {
        int paddingLeft = this.A0F.getPaddingLeft();
        int paddingRight = this.A0F.getPaddingRight();
        this.A0F.setBackgroundDrawable(drawable);
        this.A0F.setPadding(paddingLeft, 0, paddingRight, 0);
    }

    public final void A12(ViewGroup viewGroup, View view) {
        boolean A1H2 = A1H();
        this.A08 = 1;
        this.A0j.setClipChildren(false);
        int transcriptMode = this.A0Y.getTranscriptMode();
        ListView listView = this.A0Y;
        if (A1H2) {
            listView.setTranscriptMode(2);
        } else {
            listView.setTranscriptMode(0);
        }
        A0y(A0b(0));
        viewGroup.setVisibility(0);
        viewGroup.getViewTreeObserver().addOnGlobalLayoutListener(new AnonymousClass1L3(this, viewGroup, A1H2, view, transcriptMode));
    }

    public final void A13(ViewGroup viewGroup, View view, boolean z) {
        this.A08 = -1;
        this.A0j.setClipChildren(false);
        int transcriptMode = this.A0Y.getTranscriptMode();
        int height = viewGroup.getHeight();
        TranslateAnimation translateAnimation = new TranslateAnimation(0.0f, 0.0f, 0.0f, (float) height);
        translateAnimation.setDuration(250);
        view.startAnimation(translateAnimation);
        if (viewGroup == this.A0P && this.A0O.getVisibility() == 0) {
            this.A0O.startAnimation(translateAnimation);
        }
        if (this.A0k.A0C) {
            this.A0R.startAnimation(translateAnimation);
        }
        if (z) {
            this.A0Y.setTranscriptMode(2);
            this.A0Y.startAnimation(translateAnimation);
        }
        Drawable background = this.A0F.getBackground();
        if (!(background instanceof AnonymousClass2NM)) {
            A11(new AnonymousClass2NM(background));
        }
        AnonymousClass1L4 r2 = new AnonymousClass1L4(this, height);
        r2.setDuration(250);
        this.A0F.startAnimation(r2);
        r2.setAnimationListener(new C39641rr(this, viewGroup, view, z, transcriptMode));
    }

    public final void A14(C27241Os r6) {
        if (!C002001d.A3D(this)) {
            if (r6 == null) {
                this.A0w.A00 = null;
                A0i();
            } else if (!TextUtils.equals(this.A1M, r6.A0G)) {
            } else {
                if (r6.A0A()) {
                    this.A0w.A00 = r6;
                    Log.i("conversation/showlinkpreview");
                    if (this.A0t == null) {
                        WebPagePreviewView webPagePreviewView = new WebPagePreviewView(this);
                        this.A0t = webPagePreviewView;
                        this.A0P.addView(webPagePreviewView);
                        AnonymousClass0SE.A06(((AnonymousClass2C0) this).A01, this.A0t.findViewById(R.id.title), 0, (int) (C002301g.A0K.A00 * 24.0f));
                        this.A0t.setProgressBarVisibility(false);
                        View findViewById = this.A0t.findViewById(R.id.cancel);
                        findViewById.setVisibility(0);
                        findViewById.setOnClickListener(new ViewOnClickCListenerShape10S0100000_I0(this, 2));
                        this.A0t.findViewById(R.id.link_preview_content).setOnClickListener(new C39621rp(this, this.A0t.findViewById(R.id.thumb)));
                    }
                    if (this.A0P.getVisibility() != 0 || this.A08 < 0) {
                        Log.i("conversation/showlinkpreview/start");
                        A12(this.A0P, this.A0t);
                    }
                    this.A0t.A01(r6, null);
                    C27131Oe r2 = this.A0l;
                    if (r2 != null) {
                        C27241Os r1 = this.A0w.A00;
                        if (r1 instanceof C52162ag) {
                            r2.A0W = (C52162ag) r1;
                            return;
                        }
                        return;
                    }
                    return;
                }
                this.A0w.A00 = null;
                A0i();
            }
        }
    }

    public final void A15(C007003k r3, AnonymousClass02N r4, boolean z) {
        try {
            startActivityForResult(this.A4M.A02(r3, r4, z), 13);
            this.A1A.A02(z, 5);
        } catch (ActivityNotFoundException unused) {
            C002001d.A2O(this, 12);
        }
    }

    public void A16(C007003k r4, boolean z) {
        if (this.A1a) {
            C000300f r0 = this.A2G;
            AnonymousClass00D r2 = ((AnonymousClass2DW) this).A0N;
            if (C002001d.A3O(r0, r2)) {
                APm(JoinableEducationDialogFragment.A00(!z, new DialogInterface$OnDismissListenerC25621Hr(this, r4, z)));
                r2.A0L();
                return;
            }
        }
        A18(r4, z);
    }

    public void A17(C007003k r10, boolean z) {
        if (r10.A09()) {
            Jid A022 = r10.A02(AnonymousClass02U.class);
            if (A022 != null) {
                GroupJid groupJid = (GroupJid) A022;
                ArrayList arrayList = new ArrayList(this.A37.A01(groupJid).A03().A02());
                AnonymousClass01I r0 = this.A28;
                r0.A04();
                arrayList.remove(r0.A03);
                ArrayList arrayList2 = new ArrayList();
                Iterator it = arrayList.iterator();
                while (it.hasNext()) {
                    arrayList2.add(((AnonymousClass2DW) this).A0F.A0A((AnonymousClass02N) it.next()));
                }
                this.A4V.A02(arrayList2, this, 25, true, z, groupJid);
                return;
            }
            throw null;
        }
        this.A4V.A01(r10, this, 8, true, z);
    }

    public void A18(C007003k r5, boolean z) {
        if (((AnonymousClass2DW) this).A0N.A00.getInt("call_confirmation_dialog_count", 0) < 5) {
            CallConfirmationFragment callConfirmationFragment = new CallConfirmationFragment();
            Bundle bundle = new Bundle();
            bundle.putString("jid", AnonymousClass1VY.A0D(this.A0z.A02(AnonymousClass02N.class)));
            bundle.putBoolean("is_video_call", z);
            callConfirmationFragment.A0N(bundle);
            APm(callConfirmationFragment);
            return;
        }
        A17(r5, z);
    }

    public final void A19(C49262Ps r25) {
        Intent putExtra;
        if (this.A1y.A0H((UserJid) this.A0z.A02(UserJid.class))) {
            C002001d.A2O(this, 106);
            return;
        }
        ArrayList arrayList = new ArrayList();
        arrayList.add(this.A14);
        C49252Pr r2 = r25.A01;
        int i = r2.A01;
        if (i <= 0) {
            i = r25.A02.A01;
        }
        int i2 = r2.A00;
        if (i2 <= 0) {
            i2 = r25.A02.A00;
        }
        String A1l2 = C002001d.A1l(this.A0k.getStringText());
        if (r25.A05) {
            String str = r2.A02;
            int i3 = r25.A00;
            putExtra = new Intent(this, GifVideoPreviewActivity.class).putExtra("file_path", str).putExtra("jids", AnonymousClass1VY.A0F(arrayList)).putExtra("send", false).putExtra("provider", i3).putExtra("number_from_url", this.A1X).putExtra("origin", 22).putExtra("media_width", i).putExtra("media_height", i2).putExtra("jid", AnonymousClass1VY.A0D(this.A14)).putExtra("caption", A1l2).putExtra("mentions", AnonymousClass1VY.A0F(this.A0k.getMentions())).putExtra("clear_message_after_send", !TextUtils.isEmpty(A1l2));
        } else {
            putExtra = GifVideoPreviewActivity.A04(this, arrayList, r25.A02.A02, r2.A02, r25.A03.A02, r25.A00, this.A1X, false, 22).putExtra("media_width", i).putExtra("media_height", i2).putExtra("jid", AnonymousClass1VY.A0D(this.A14)).putExtra("caption", A1l2).putExtra("mentions", AnonymousClass1VY.A0F(this.A0k.getMentions())).putExtra("clear_message_after_send", !TextUtils.isEmpty(A1l2));
        }
        startActivityForResult(putExtra, 25);
    }

    public final void A1A(AnonymousClass02N r4) {
        if (r4.equals(this.A14)) {
            this.A0Y.post(new RunnableEBaseShape0S0100000_I0_0(this, 44));
        }
    }

    public final void A1B(AbstractC007503q r6) {
        int i;
        int height;
        int firstVisiblePosition = this.A0Y.getFirstVisiblePosition();
        int lastVisiblePosition = this.A0Y.getLastVisiblePosition();
        int A022 = this.A0q.A02(r6);
        if (A022 >= 0 && (i = A022 + 1) >= firstVisiblePosition) {
            if (i <= lastVisiblePosition) {
                View childAt = this.A0Y.getChildAt(i - firstVisiblePosition);
                if (childAt == null || childAt.getTop() <= (height = (this.A0Y.getHeight() >> 1) - (childAt.getHeight() >> 1))) {
                    return;
                }
            } else {
                height = this.A0Y.getHeight() >> 1;
            }
            this.A0Y.smoothScrollToPositionFromTop(i, height);
            if (!this.A1S) {
                this.A0Y.setTranscriptMode(0);
                this.A0H.setVisibility(0);
            }
        }
    }

    public void A1C(AbstractC007503q r12, int i) {
        AnonymousClass2HL r0 = this.A0q;
        r0.A0Q.add(r12.A0n);
        if (r12.A0p < this.A0A) {
            C28511Up A062 = this.A33.A06(this.A14, r12.A0p, 100, this.A09);
            AnonymousClass2HL r2 = this.A0q;
            r2.A0N.clear();
            r2.A0H.clear();
            this.A0A = A062.A01;
            int firstVisiblePosition = this.A0Y.getFirstVisiblePosition();
            int count = this.A0q.getCount();
            StringBuilder sb = new StringBuilder("conversation/scroll-to-message/ before pos :");
            sb.append(firstVisiblePosition);
            sb.append(" adapter count:");
            sb.append(count);
            Log.d(sb.toString());
            this.A0q.changeCursor(A062.A00);
            int A032 = this.A3B.A03(this.A14, this.A0A, r12.A0p);
            if (this.A07 > 0 && A032 >= this.A0q.A00()) {
                A032++;
            }
            int A033 = this.A0q.A03(r12, A032);
            if (A033 == -1) {
                int headerViewsCount = this.A0Y.getHeaderViewsCount() + A032;
                A10((this.A0q.getCount() + firstVisiblePosition) - count, i);
                StringBuilder sb2 = new StringBuilder("conversation/scroll-to-message/ after pos:");
                sb2.append(headerViewsCount);
                sb2.append(" adapter count:");
                sb2.append(this.A0q.getCount());
                Log.d(sb2.toString());
                this.A0Y.getViewTreeObserver().addOnGlobalLayoutListener(new AnonymousClass1LB(this, r12, headerViewsCount, i));
                return;
            }
            A10(this.A0Y.getHeaderViewsCount() + this.A0q.A01(A032, A033), i);
            return;
        }
        A0m();
        int A034 = this.A3B.A03(this.A14, this.A0A, r12.A0p);
        if (this.A07 > 0 && A034 >= this.A0q.A00()) {
            A034++;
        }
        int A035 = this.A0q.A03(r12, A034);
        if (A035 == -1) {
            A0z(this.A0Y.getHeaderViewsCount() + A034, i);
            return;
        }
        A10(this.A0Y.getHeaderViewsCount() + this.A0q.A01(A034, A035), i);
    }

    public void A1D(AbstractC007503q r10, boolean z) {
        if (r10 != null && !A1I() && this.A0k != null) {
            AbstractC06110Rt r0 = this.A0f;
            if (r0 != null) {
                r0.A00();
            }
            this.A17 = r10;
            A4m.put(this.A14, r10);
            C27131Oe r02 = this.A0l;
            if (r02 != null) {
                r02.A0Z = r10;
            }
            if (this.A0G == null) {
                View inflate = getLayoutInflater().inflate(R.layout.quoted_message, (ViewGroup) null, false);
                this.A0G = inflate;
                FrameLayout frameLayout = (FrameLayout) inflate.findViewById(R.id.quoted_message_frame);
                Drawable A032 = C004302a.A03(this, R.drawable.balloon_incoming_frame);
                if (A032 != null) {
                    frameLayout.setForeground(C002001d.A0e(A032, C004302a.A00(this, R.color.conversationEntryBackground)));
                    this.A0O.addView(this.A0G);
                    AnonymousClass01X r4 = ((AnonymousClass2C0) this).A01;
                    AnonymousClass0SE.A06(r4, this.A0G.findViewById(R.id.quoted_title_frame), 0, (int) (C002301g.A0K.A00 * 24.0f));
                    this.A0G.findViewById(R.id.cancel).setVisibility(0);
                    this.A0G.findViewById(R.id.cancel).setOnClickListener(new ViewOnClickCListenerShape10S0100000_I0(this, 1));
                    TextView textView = (TextView) this.A0G.findViewById(R.id.quoted_title);
                    textView.setTextSize(AbstractC51572Zg.A01(getResources(), r4));
                    C002301g.A03(textView);
                } else {
                    throw null;
                }
            }
            this.A2m.A02(this.A0G, this.A14, r10, this.A4F, A5P());
            if (this.A0G.findViewById(R.id.quoted_thumb).getVisibility() == 0) {
                this.A0G.findViewById(R.id.cancel_image).setBackgroundResource(R.drawable.semi_white_circle);
            } else {
                this.A0G.findViewById(R.id.cancel_image).setBackgroundColor(0);
            }
            if (this.A0O.getVisibility() != 0 || this.A08 < 0) {
                Log.i("conversation/replypreview/start");
                A12(this.A0O, this.A0G);
            }
            C59842oN r03 = this.A11;
            if (r03 != null && !r03.isShowing() && z) {
                this.A0k.A01(false);
            }
        }
    }

    public void A1E(AnonymousClass00T r4, AnonymousClass02N r5) {
        UserJid of;
        if (this.A2G.A0D(AbstractC000400g.A0q) && (of = UserJid.of(r5)) != null) {
            r4.ANF(new RunnableEBaseShape1S0200000_I0_0(this, of, 10));
        }
    }

    public final void A1F(boolean z) {
        if (TextUtils.isEmpty(this.A1J)) {
            this.A1J = null;
            this.A1N = null;
            return;
        }
        this.A1K = this.A1J;
        this.A0k.A00();
        int firstVisiblePosition = this.A0Y.getFirstVisiblePosition() - this.A0Y.getHeaderViewsCount();
        for (int i = 1; i < this.A0Y.getChildCount(); i++) {
            firstVisiblePosition = (this.A0Y.getFirstVisiblePosition() + i) - this.A0Y.getHeaderViewsCount();
            if (this.A0Y.getChildAt(i).getTop() >= getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height)) {
                break;
            }
        }
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/search/ first-visible:");
        A0S2.append(this.A0Y.getFirstVisiblePosition());
        A0S2.append(" header-count:");
        A0S2.append(this.A0Y.getHeaderViewsCount());
        A0S2.append(" first-pos:");
        A0S2.append(firstVisiblePosition);
        A0S2.append(" up:");
        AnonymousClass008.A1a(A0S2, z);
        if (firstVisiblePosition < 0) {
            A0k();
            return;
        }
        AbstractC007503q A042 = this.A0q.getItem(firstVisiblePosition);
        if (A042 != null) {
            if (A042.A0n.A00 == null) {
                Log.i("conversation/search/divider-at-search-position");
                A042 = this.A0q.getItem(firstVisiblePosition + 1);
                if (A042 == null) {
                    Log.w("conversation/search/first-message-is-null");
                    return;
                }
            }
            C10850fJ r0 = this.A0r;
            if (r0 != null) {
                ((AnonymousClass0JW) r0).A00.cancel(true);
            }
            C08680bX r1 = this.A0y;
            if (r1 == null) {
                r1 = AnonymousClass0AM.A01(this.A14);
                this.A0y = r1;
            }
            r1.A09 = this.A1J;
            r1.A03 = null;
            r1.A04(this.A1N);
            C10850fJ r2 = new C10850fJ(this, r1, z, A042);
            this.A0r = r2;
            this.A4R.ANC(r2, new Void[0]);
        }
    }

    /* JADX WARNING: Removed duplicated region for block: B:46:0x00e1  */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public final void A1G(boolean r15) {
        /*
        // Method dump skipped, instructions count: 367
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.A1G(boolean):void");
    }

    public boolean A1H() {
        if (this.A0Y.getLastVisiblePosition() < (this.A0q.getCount() + this.A0Y.getHeaderViewsCount()) - 1 || this.A0Y.getChildCount() == 0) {
            return false;
        }
        ListView listView = this.A0Y;
        if (listView.getChildAt(listView.getChildCount() - 1).getBottom() != this.A0Y.getHeight()) {
            return false;
        }
        return true;
    }

    public boolean A1I() {
        if (!this.A1a) {
            return false;
        }
        Jid A022 = this.A0z.A02(AnonymousClass02U.class);
        if (A022 != null) {
            GroupJid groupJid = (GroupJid) A022;
            AnonymousClass01T r2 = this.A37;
            if (!r2.A01(groupJid).A0A(r2.A01) || (this.A0z.A0Q && !r2.A05(groupJid))) {
                return true;
            }
            return false;
        }
        throw null;
    }

    public boolean A1J() {
        C27131Oe r0 = this.A0l;
        return r0 != null && r0.A0P();
    }

    public final boolean A1K() {
        C69873Iw r0 = this.A15;
        r0.A06 = false;
        PickerSearchDialogFragment pickerSearchDialogFragment = r0.A03;
        if (pickerSearchDialogFragment != null) {
            pickerSearchDialogFragment.A0x();
        }
        if (!this.A11.isShowing()) {
            return false;
        }
        this.A11.dismiss();
        return true;
    }

    public boolean A1L(int i, AnonymousClass02N r15) {
        boolean z = false;
        if (i == R.id.menuitem_add_to_contacts || i == R.id.menuitem_add_to_existing_contact) {
            if (r15 != null) {
                C007003k A092 = ((AnonymousClass2DW) this).A0F.A09(r15);
                if (i == R.id.menuitem_add_to_contacts) {
                    z = true;
                }
                A15(A092, r15, z);
                return true;
            }
            Log.w("conversation/add-contact-failed");
            ((ActivityC004702f) this).A0F.A06(R.string.group_add_contact_failed, 0);
            return true;
        } else if (i == R.id.menuitem_view_business_profile) {
            if (r15 != null) {
                ContactInfoActivity.A07(((AnonymousClass2DW) this).A0F.A0A(r15), this, AnonymousClass2UT.A01(this, findViewById(R.id.transition_start), this.A2Q.A01(R.string.transition_photo)));
                finish();
                return true;
            }
            Log.e("conversation/view-business-profile/error no-resource");
            return true;
        } else if (i == R.id.menuitem_message_contact) {
            if (r15 != null) {
                startActivity(A04(this, ((AnonymousClass2DW) this).A0F.A0A(r15)));
                finish();
                return true;
            }
            Log.e("conversation/message-contact/error no-resource");
            return true;
        } else if (i == R.id.menuitem_voice_call_contact) {
            if (r15 != null) {
                this.A4V.A01(((AnonymousClass2DW) this).A0F.A0A(r15), this, 8, false, false);
                return true;
            }
            Log.e("conversation/call-contact/error no-resource");
            return true;
        } else if (i != R.id.menuitem_video_call_contact) {
            return false;
        } else {
            if (r15 != null) {
                this.A4V.A01(((AnonymousClass2DW) this).A0F.A0A(r15), this, 8, false, true);
                return true;
            }
            Log.e("conversation/call-contact/error no-resource");
            return true;
        }
    }

    @Override // X.AbstractC03760Hn
    public void A1t(C007003k r2, AnonymousClass02N r3) {
        A15(r2, r3, false);
    }

    @Override // X.AbstractC03650Hc
    public void A27() {
        this.A1f = true;
    }

    @Override // X.AbstractC03670He
    public boolean A2e(AnonymousClass0MP r2, boolean z) {
        return A0D(r2, A0e(r2), z);
    }

    @Override // X.AbstractC03670He
    public boolean A34(AnonymousClass0MP r11, int i, boolean z) {
        AbstractC007503q A0e2 = A0e(r11);
        boolean z2 = false;
        if (A0e2 == null || !A0D(r11, A0e2, z)) {
            StringBuilder A0S2 = AnonymousClass008.A0S("android.resource://");
            A0S2.append(getPackageName());
            A0S2.append("/");
            A0S2.append(R.raw.ptt_end_fast);
            Uri parse = Uri.parse(A0S2.toString());
            MediaPlayer mediaPlayer = new MediaPlayer();
            mediaPlayer.setOnCompletionListener(C14330m5.A00);
            mediaPlayer.setAudioStreamType(i);
            if (i == 3) {
                mediaPlayer.setVolume(0.35f, 0.35f);
            } else if (i == 0) {
                mediaPlayer.setVolume(0.2f, 0.2f);
            }
            try {
                mediaPlayer.setDataSource(this, parse);
                mediaPlayer.prepare();
                mediaPlayer.start();
            } catch (IOException e) {
                Log.e("SequentialVoiceMemoPlayer/playEndTone ", e);
            }
            this.A1U = false;
            this.A16 = null;
            this.A1R = false;
            return false;
        }
        this.A1R = true;
        AnonymousClass0MP r7 = (AnonymousClass0MP) A0e2;
        C28301Tu A012 = C28301Tu.A01(this, true);
        A012.A0G = r7;
        int i2 = ((AbstractC007503q) r7).A08;
        if (i2 == 9 || i2 == 10) {
            z2 = true;
        }
        A012.A0N = z2;
        A012.A0D = new C38561q5(this, r7, A012);
        AnonymousClass02M r3 = ((ActivityC004702f) this).A0F;
        RunnableEBaseShape0S0400000_I0 runnableEBaseShape0S0400000_I0 = new RunnableEBaseShape0S0400000_I0(this, A012, r7, A0e2, 1);
        StringBuilder A0S3 = AnonymousClass008.A0S("android.resource://");
        A0S3.append(getPackageName());
        A0S3.append("/");
        A0S3.append(R.raw.ptt_middle_fast);
        Uri parse2 = Uri.parse(A0S3.toString());
        MediaPlayer mediaPlayer2 = new MediaPlayer();
        mediaPlayer2.setOnCompletionListener(C14330m5.A00);
        mediaPlayer2.setAudioStreamType(i);
        if (i == 3) {
            mediaPlayer2.setVolume(0.35f, 0.35f);
        } else if (i == 0) {
            mediaPlayer2.setVolume(0.2f, 0.2f);
        }
        try {
            mediaPlayer2.setDataSource(this, parse2);
            mediaPlayer2.prepare();
            mediaPlayer2.start();
            r3.A02.postDelayed(runnableEBaseShape0S0400000_I0, 600);
            return true;
        } catch (IOException e2) {
            Log.e("SequentialVoiceMemoPlayer/playMiddleTone ", e2);
            return true;
        }
    }

    @Override // X.AbstractC03750Hm
    public AnonymousClass0YX A5P() {
        return ((AnonymousClass2DW) this).A02.A01(this);
    }

    @Override // X.AbstractC03650Hc
    public AbstractC007503q A8c() {
        return this.A17;
    }

    @Override // X.AbstractC43421yL
    public ArrayList A8u() {
        return this.A1N;
    }

    @Override // X.AbstractC03670He
    public boolean ABZ() {
        AccessibilityManager accessibilityManager = (AccessibilityManager) getSystemService("accessibility");
        return accessibilityManager == null || !accessibilityManager.isTouchExplorationEnabled();
    }

    @Override // X.AbstractC43421yL
    public boolean ABf(AbstractC007503q r3) {
        if (((AnonymousClass2DW) this).A07.contains(r3.A0n)) {
            return false;
        }
        if (this.A0q.A02(r3) > this.A0q.A00()) {
            return true;
        }
        return this.A0q.A0N.contains(r3);
    }

    @Override // X.AbstractC03660Hd
    public void ACz(PickerSearchDialogFragment pickerSearchDialogFragment) {
        C69873Iw r1 = this.A15;
        r1.A07 = true;
        r1.A03 = pickerSearchDialogFragment;
        r1.A08.A00 = r1;
        pickerSearchDialogFragment.A00 = r1;
        C27131Oe r12 = this.A0l;
        if (r12 != null && r12.A0P()) {
            r12.A01();
        }
    }

    @Override // X.AbstractC03720Hj
    public void AD0() {
        A16(this.A0z, false);
    }

    @Override // X.AbstractC03710Hi
    public void AEe(C28511Up r4, AbstractC007503q r5, int i, long j) {
        if (C002001d.A3S(this.A36)) {
            View view = this.A0L;
            if (!(view == null || this.A0J == null || this.A0M == null || this.A0K == null)) {
                view.setEnabled(true);
                this.A0J.setEnabled(true);
                this.A0M.setVisibility(8);
                this.A0K.setVisibility(8);
            }
        } else {
            ((ActivityC004702f) this).A0K.A00();
        }
        if (r5 != null) {
            AnonymousClass2HL r0 = this.A0q;
            r0.A0Q.add(r5.A0n);
            if (r4 == null || r4.A00 == null) {
                A0m();
            } else {
                AnonymousClass2HL r1 = this.A0q;
                r1.A0N.clear();
                r1.A0H.clear();
                this.A0A = r4.A01;
                this.A0q.changeCursor(r4.A00);
            }
            A10(this.A0Y.getHeaderViewsCount() + i, getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height));
            this.A1B.A01();
        } else {
            A0k();
        }
        this.A0r = null;
    }

    @Override // X.AbstractC03710Hi
    public void AEf(boolean z, long j) {
        View view;
        View view2;
        this.A1B = new C04600Kz("conversation/search/searchTask");
        if (!C002001d.A3S(this.A36)) {
            A0G(R.string.searching);
        } else if (this.A0L != null && this.A0J != null && (view = this.A0M) != null && (view2 = this.A0K) != null) {
            if (z) {
                view.setVisibility(0);
            } else {
                view2.setVisibility(0);
            }
            this.A0L.setEnabled(false);
            this.A0J.setEnabled(false);
        }
    }

    @Override // X.AbstractC03770Ho
    public void AFS(C03960Il r3) {
        this.A26.AFR(r3.A00);
    }

    @Override // X.AbstractC03690Hg
    public void AFu(UserJid userJid, int i) {
        A14(null);
    }

    @Override // X.AbstractC03690Hg
    public void AFv(UserJid userJid) {
        C59362nW r1 = this.A0w;
        C48072Ku A032 = r1.A08.A03(userJid);
        if (A032 != null) {
            r1.A09.A01(A032, 2, new C52092aZ(r1, userJid), null, null);
        } else {
            r1.A02(userJid);
        }
    }

    @Override // X.AbstractC03680Hf
    public void AGW() {
        C59362nW r3 = this.A0w;
        C27241Os r1 = r3.A00;
        if (r1 instanceof C39431rW) {
            UserJid userJid = ((C39431rW) r1).A00;
            String A012 = r3.A06.A01(userJid);
            if (A012 != null) {
                r3.A00.A0A = A012;
            }
            r3.A03(userJid);
        }
    }

    @Override // X.AbstractC03730Hk
    public void AGa(C49262Ps r5) {
        if (!this.A2u.A06()) {
            this.A13 = r5;
            int i = Build.VERSION.SDK_INT;
            int i2 = R.string.permission_storage_need_write_access_on_sending_media_v30;
            if (i < 30) {
                i2 = R.string.permission_storage_need_write_access_on_sending_media;
            }
            RequestPermissionActivity.A0B(this, R.string.permission_storage_need_write_access_on_sending_media_request, i2, false, 811);
            return;
        }
        A19(r5);
    }

    @Override // X.AbstractC03700Hh
    public void AJ8() {
        this.A0o.A01();
    }

    @Override // X.AbstractC03700Hh
    public void AKv() {
        this.A0o.A00();
    }

    @Override // X.AbstractC03720Hj
    public void ALe() {
        A16(this.A0z, true);
    }

    @Override // X.AbstractC03740Hl
    public void AMo() {
        A0q();
    }

    @Override // X.AbstractC03650Hc
    public void AN0() {
        this.A0O.setVisibility(8);
        A0y(R.drawable.ib_new_round);
        A4m.remove(this.A0z.A02(AnonymousClass02N.class));
        this.A17 = null;
        A0g();
    }

    @Override // X.AbstractC03670He
    public void AOH(boolean z) {
        this.A1U = z;
    }

    @Override // X.AbstractC03660Hd
    public void APk(DialogFragment dialogFragment) {
        APm(dialogFragment);
    }

    @Override // X.AbstractC43421yL, X.AnonymousClass2DW
    public void animateStar(View view) {
        ImageView imageView = new ImageView(this);
        imageView.setImageDrawable(C002001d.A0b(this, R.drawable.message_star_teal_anim, R.color.messageStarAnimationColor));
        imageView.setVisibility(4);
        imageView.getViewTreeObserver().addOnGlobalLayoutListener(new AnonymousClass1L9(this, imageView, view));
        RelativeLayout.LayoutParams layoutParams = new RelativeLayout.LayoutParams(-2, -2);
        layoutParams.addRule(9);
        this.A0j.addView(imageView, layoutParams);
    }

    @Override // X.ActivityC004702f
    public boolean dispatchTouchEvent(MotionEvent motionEvent) {
        if (!this.A0q.A0G) {
            return false;
        }
        C28301Tu r0 = C28301Tu.A0i;
        if (r0 != null && r0.A0L) {
            return false;
        }
        if (motionEvent.getAction() == 0) {
            this.A1U = false;
        }
        if (this.A12.A01()) {
            View view = this.A0E;
            int[] iArr = this.A4f;
            view.getLocationOnScreen(iArr);
            if (motionEvent.getRawY() >= ((float) iArr[1])) {
                if (motionEvent.getRawY() < ((float) (this.A0E.getHeight() + iArr[1]))) {
                    if (motionEvent.getAction() == 0) {
                        this.A1k = true;
                    } else if (motionEvent.getAction() == 1) {
                        if (this.A1k) {
                            this.A12.A00(true);
                            this.A0E.requestFocus();
                        }
                        this.A1k = false;
                    }
                }
            }
        }
        try {
            return super.dispatchTouchEvent(motionEvent);
        } catch (ActivityNotFoundException e) {
            StringBuilder A0S2 = AnonymousClass008.A0S("conversation/dispatch-touch-event ");
            A0S2.append(e.toString());
            Log.e(A0S2.toString(), e);
            ((ActivityC004702f) this).A0F.A06(R.string.activity_not_found, 0);
            return false;
        } catch (IllegalArgumentException e2) {
            Log.e("conversation/dispatch-touch-event ", e2);
            return false;
        } catch (ArrayIndexOutOfBoundsException e3) {
            Log.e("conversation/dispatch-touch-event ", e3);
            return false;
        }
    }

    public /* synthetic */ void lambda$new$598$Conversation(View view) {
        if (this.A0Y.getLastVisiblePosition() >= (this.A0Y.getCount() - this.A0Y.getFooterViewsCount()) - 1) {
            this.A0Y.setTranscriptMode(2);
            A0s();
        }
        A0p();
    }

    public /* synthetic */ void lambda$onCreate$600$Conversation(View view) {
        UserJid nullable = UserJid.getNullable(Voip.getRawPeerJid());
        if (nullable != null) {
            startActivity(VoipActivityV2.A05(this, nullable, Boolean.FALSE));
        }
    }

    public /* synthetic */ void lambda$onCreate$606$Conversation(View view) {
        this.A0o.A08(2);
    }

    public /* synthetic */ void lambda$onCreate$608$Conversation(View view) {
        this.A0Y.onWindowFocusChanged(false);
        Stack stack = this.A4e;
        if (stack.empty()) {
            A0s();
            this.A0H.setVisibility(8);
            return;
        }
        AnonymousClass1LD r0 = (AnonymousClass1LD) stack.pop();
        A1C(r0.A02, r0.A00);
    }

    public /* synthetic */ void lambda$onCreate$609$Conversation(View view) {
        this.A0Y.onWindowFocusChanged(false);
        ArrayList arrayList = this.A4Z;
        if (!arrayList.isEmpty()) {
            this.A0q.A0Q.clear();
            int firstVisiblePosition = this.A0Y.getFirstVisiblePosition();
            AbstractC007503q A042 = this.A0q.getItem(firstVisiblePosition);
            if (!(A042 == null || (A042.A0n.A00 == null && (A042 = this.A0q.getItem(firstVisiblePosition + 1)) == null))) {
                Iterator it = arrayList.iterator();
                while (it.hasNext()) {
                    AbstractC007503q r5 = (AbstractC007503q) it.next();
                    if (r5.A0p > A042.A0p) {
                        this.A0q.A0Q.add(r5.A0n);
                    }
                }
            }
            A1C((AbstractC007503q) arrayList.get(0), getResources().getDimensionPixelSize(R.dimen.conversation_row_min_height));
        }
    }

    public /* synthetic */ void lambda$onCreate$611$Conversation(View view) {
        A1G(false);
    }

    /* JADX WARNING: Code restructure failed: missing block: B:55:0x012f, code lost:
        if (r9.A0F != null) goto L_0x0131;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:56:0x0131, code lost:
        r6 = r23.getIntExtra("provider", 0);
        r5 = 1;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:57:0x0138, code lost:
        if (r6 == 1) goto L_0x013e;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:58:0x013a, code lost:
        r5 = 2;
        r1 = 0;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:59:0x013c, code lost:
        if (r6 != 2) goto L_0x013f;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:60:0x013e, code lost:
        r1 = r5;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:61:0x013f, code lost:
        r9.A05 = r1;
        r20.A2K.A07(new X.C40531tQ(java.util.Collections.singletonList(r20.A3d.A05(r20.A14, r9, (byte) 13, 0, r23.getStringExtra("caption"), r13, r20.A17, null, X.AnonymousClass1VY.A0G(com.whatsapp.jid.UserJid.class, r23.getStringArrayListExtra("mentions")), r20.A1X, 0, null))), r2);
        r20.A1f = true;
        r20.A12.A00(false);
        r1 = r20.A15;
        r1.A06 = false;
        r1 = r1.A03;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:62:0x0183, code lost:
        if (r1 == null) goto L_0x0188;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:63:0x0185, code lost:
        r1.A0x();
     */
    /* JADX WARNING: Code restructure failed: missing block: B:65:0x018e, code lost:
        if (r23.getBooleanExtra("clear_message_after_send", false) == false) goto L_0x0193;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:66:0x0190, code lost:
        A0g();
     */
    /* JADX WARNING: Code restructure failed: missing block: B:73:0x01ba, code lost:
        if (r13 == null) goto L_0x012d;
     */
    @Override // X.AnonymousClass2DW, X.ActivityC004902h
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onActivityResult(int r21, int r22, android.content.Intent r23) {
        /*
        // Method dump skipped, instructions count: 710
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onActivityResult(int, int, android.content.Intent):void");
    }

    @Override // X.ActivityC004702f, X.AnonymousClass02i
    public void onBackPressed() {
        AnonymousClass377 r1;
        if (!this.A12.A02()) {
            int i = Build.VERSION.SDK_INT;
            if (i >= 19 && (r1 = this.A1D) != null && r1.A0G()) {
                if (r1.A0H()) {
                    r1.A0E(false);
                    return;
                } else if (i >= 26 && C002001d.A3N(this.A2G, this.A2p)) {
                    this.A1D.A04();
                }
            }
            if (isTaskRoot()) {
                Intent intent = new Intent(this, HomeActivity.class);
                if (i >= 21) {
                    finishAndRemoveTask();
                    startActivity(intent);
                    return;
                }
                startActivity(intent);
            }
            C08560bL r0 = (C08560bL) this.A30.A0A().get(this.A0z.A02(AnonymousClass02N.class));
            if (r0 != null && r0.A0S) {
                AnonymousClass0DG r12 = this.A2y;
                Jid A022 = this.A0z.A02(AnonymousClass02N.class);
                if (A022 != null) {
                    r12.A01((AnonymousClass02N) A022);
                } else {
                    throw null;
                }
            }
            super.onBackPressed();
        }
    }

    @Override // X.AnonymousClass2C0, X.AnonymousClass2DW, X.ActivityC004802g, X.ActivityC004702f, X.ActivityC004902h
    public void onConfigurationChanged(Configuration configuration) {
        AnonymousClass377 r1;
        AnonymousClass377 r2;
        super.onConfigurationChanged(configuration);
        if (this.A1S) {
            this.A0Y.setTranscriptMode(2);
            this.A1n.sendEmptyMessageDelayed(1, 1000);
        } else {
            this.A0Y.setSelection(this.A00);
        }
        if (Build.VERSION.SDK_INT >= 19 && (r2 = this.A1D) != null) {
            int i = configuration.orientation;
            r2.A08(i);
            if (!r2.A0H()) {
                r2.A09(i);
            }
        }
        if (configuration.orientation == 1) {
            this.A2I.A04(this.A0k);
            return;
        }
        this.A0k.setMaxLines(2);
        if (Build.VERSION.SDK_INT >= 19 && (r1 = this.A1D) != null && r1.A0G() && !r1.A0H()) {
            r1.A01();
            this.A1D.A09(1);
        }
    }

    /* JADX WARNING: Code restructure failed: missing block: B:137:0x0618, code lost:
        if (r83.getBoolean("has_number_from_url") != false) goto L_0x061a;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:145:0x0631, code lost:
        if (r83.getBoolean("has_text_from_url") != false) goto L_0x0633;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:153:0x0647, code lost:
        if (r83.getBoolean("added_by_qr_code") != false) goto L_0x0649;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:248:0x09ac, code lost:
        if (r13.A04.A0D(X.AbstractC000400g.A0d) == false) goto L_0x09ae;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:343:0x0e91, code lost:
        if (android.text.TextUtils.isEmpty(r9.A0C) != false) goto L_0x0e93;
     */
    /* JADX WARNING: Removed duplicated region for block: B:503:0x1449  */
    /* JADX WARNING: Removed duplicated region for block: B:58:0x025b  */
    @Override // X.AnonymousClass2C0, X.AnonymousClass2DW, X.ActivityC004602e, X.ActivityC004802g, X.ActivityC004702f, X.AnonymousClass02i, X.ActivityC004902h, X.ActivityC005002j
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onCreate(android.os.Bundle r83) {
        /*
        // Method dump skipped, instructions count: 5251
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onCreate(android.os.Bundle):void");
    }

    @Override // X.AnonymousClass2DW, X.ActivityC004602e
    public Dialog onCreateDialog(int i) {
        Dialog dialog;
        C27131Oe r3 = this.A0l;
        if (r3 == null || !r3.A0P() || r3.A0k) {
            C52002aQ r2 = this.A0u;
            C007003k r4 = this.A0z;
            AnonymousClass2J6 r5 = r2.A0I;
            if (i == 0) {
                ActivityC004802g r42 = r2.A02;
                C002001d.A2N(r42, 0);
                C002001d.A2N(r42, r5.A03);
                C51982aO r7 = new C51982aO(r2);
                AnonymousClass01X r52 = r2.A0L;
                dialog = C28051Sr.A0X(r42, r52, r52.A06(R.string.clear_all_messages_ask), r7, true, 1).A00();
                dialog.show();
            } else {
                int i2 = r5.A03;
                if (i == i2) {
                    ActivityC004802g r43 = r2.A02;
                    C002001d.A2N(r43, 0);
                    C002001d.A2N(r43, i2);
                    C51992aP r8 = new C51992aP(r2);
                    AnonymousClass01X r6 = r2.A0L;
                    dialog = C28051Sr.A0Y(r43, r2.A0N, r6, r2.A0K, r8, r6.A06(R.string.clear_all_messages_ask), false, R.string.clear, 1).A00();
                } else {
                    dialog = null;
                    if (i == r5.A01) {
                        DialogInterface$OnClickListenerC47642Iz r72 = new DialogInterface$OnClickListenerC47642Iz(r2, r4);
                        ActivityC004802g r11 = r2.A02;
                        AnonymousClass0MB r62 = new AnonymousClass0MB(r11);
                        AnonymousClass01X r53 = r2.A0L;
                        r62.A01.A0E = C002001d.A1J(r53.A0D(R.string.exit_group_dialog_title, r2.A0F.A08(r4, false)), r11, r2.A0N);
                        r62.A07(r53.A06(R.string.exit_group), r72);
                        dialog = AnonymousClass008.A03(r53, R.string.cancel, r62);
                    } else if (i == r5.A02) {
                        AnonymousClass2Iv r63 = new AnonymousClass2Iv(r2);
                        AnonymousClass0MB r54 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r44 = r2.A0L;
                        String A062 = r44.A06(R.string.gps_required_title);
                        AnonymousClass0MC r32 = r54.A01;
                        r32.A0I = A062;
                        r32.A0E = r44.A06(R.string.gps_required_body);
                        r54.A07(r44.A06(R.string.ok), r63);
                        dialog = r54.A00();
                    } else if (i == 106) {
                        AnonymousClass0MB r64 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r73 = r2.A0L;
                        r64.A01.A0E = r73.A0D(R.string.cannot_send_to_blocked_contact_1, r2.A0F.A08(r4, false));
                        r64.A07(r73.A06(R.string.unblock), new DialogInterface$OnClickListenerC47632Iy(r2, r4));
                        r64.A05(r73.A06(R.string.cancel), new AnonymousClass2J3(r2));
                        dialog = r64.A00();
                    } else if (i == r5.A06) {
                        Log.w("conversation/dialog/oom");
                        AnonymousClass0MB r65 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r55 = r2.A0L;
                        r65.A01.A0E = r55.A06(R.string.error_out_of_memory);
                        r65.A07(r55.A06(R.string.ok), new AnonymousClass2J0(r2));
                        dialog = r65.A00();
                    } else if (i == r5.A05) {
                        Log.e("conversation/dialog/not-an-image");
                        AnonymousClass0MB r66 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r56 = r2.A0L;
                        r66.A01.A0E = r56.A06(R.string.error_file_is_not_a_image);
                        r66.A07(r56.A06(R.string.ok), new AnonymousClass2J1(r2));
                        dialog = r66.A00();
                    } else if (i == r5.A09) {
                        Log.i("conversation/warned-about-call-charges");
                        AnonymousClass0MB r67 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r57 = r2.A0L;
                        r67.A01.A0E = r57.A06(R.string.call_charges);
                        r67.A07(r57.A06(R.string.call), new AnonymousClass2Ix(r2));
                        r67.A05(r57.A06(R.string.cancel), new AnonymousClass2J2(r2));
                        dialog = r67.A00();
                    } else if (i == 10) {
                        dialog = r2.A0G.A01(r2.A02, r2.A07, r4);
                    } else if (i == 115) {
                        Log.i("conversation/dialog software-about-to-expire");
                        dialog = r2.A0B.A03(r2.A02, r2.A0C, r2.A09);
                    } else if (i == r5.A00) {
                        Log.w("conversation/add existing contact: activity not found, probably tablet");
                        AnonymousClass0MB r68 = new AnonymousClass0MB(r2.A02);
                        AnonymousClass01X r58 = r2.A0L;
                        r68.A01.A0E = r58.A06(R.string.activity_not_found);
                        r68.A07(r58.A06(R.string.ok), new DialogInterface$OnClickListenerC47622Iw(r2));
                        dialog = r68.A00();
                    } else {
                        int i3 = r5.A04;
                        if (i == i3) {
                            C47612Is r59 = ((AnonymousClass2DW) r2.A05.A00).A03;
                            if (r59 == null || r59.isEmpty()) {
                                Log.e("conversation/dialog/delete no messages");
                            } else {
                                StringBuilder A0S2 = AnonymousClass008.A0S("conversation/dialog/delete/");
                                A0S2.append(r59.size());
                                Log.i(A0S2.toString());
                                ActivityC004802g r12 = r2.A02;
                                AnonymousClass02M r33 = r2.A08;
                                AnonymousClass00S r15 = r2.A0J;
                                AnonymousClass00T r112 = r2.A0Q;
                                C02590Cr r10 = r2.A0N;
                                C04360Kb r9 = r2.A0D;
                                AnonymousClass01A r13 = r2.A0E;
                                C014308b r82 = r2.A0F;
                                AnonymousClass01X r74 = r2.A0L;
                                AnonymousClass00D r69 = r2.A0K;
                                Collection values = r59.values();
                                dialog = C002001d.A0N(r12, r33, r15, r112, r10, r9, r74, r69, values, new C39921sK(r12, i3), true, r2.A06, C002001d.A1t(values, r13, r82, (AnonymousClass02N) r4.A02(AnonymousClass02N.class), r74));
                            }
                        } else if (i == r5.A08) {
                            AnonymousClass0MB r610 = new AnonymousClass0MB(r2.A02);
                            AnonymousClass01X r75 = r2.A0L;
                            r610.A01.A0E = r75.A0D(R.string.cant_send_message_too_long_with_placeholder, 65536);
                            r610.A07(r75.A06(R.string.send), new AnonymousClass2J4(r2));
                            r610.A05(r75.A06(R.string.cancel), new AnonymousClass2J5(r2));
                            dialog = r610.A00();
                        } else {
                            int i4 = r5.A07;
                            if (i == i4) {
                                ActivityC004802g r45 = r2.A02;
                                dialog = C002001d.A0M(r45, r2.A03, r2.A0O, r2.A0L, r2.A0K, new C29891aN(r45, i4));
                            }
                        }
                    }
                }
            }
            return dialog == null ? super.onCreateDialog(i) : dialog;
        }
        r3.A07 = i;
        return null;
    }

    public boolean onCreateOptionsMenu(Menu menu) {
        for (AnonymousClass1PE r0 : this.A4c) {
            r0.AEm(menu);
        }
        return super.onCreateOptionsMenu(menu);
    }

    @Override // X.AnonymousClass2DW, X.ActivityC03630Ha, X.ActivityC004802g, X.ActivityC004702f, X.ActivityC004902h
    public void onDestroy() {
        AnonymousClass377 r1;
        super.onDestroy();
        C59842oN r0 = this.A11;
        if (r0 != null) {
            r0.A09();
        }
        C27131Oe r02 = this.A0l;
        if (r02 != null) {
            r02.A02();
        }
        AnonymousClass01S r2 = this.A3b;
        r2.A0X.remove(this.A3a);
        r2.A0W.remove(this.A3Z);
        ListView listView = this.A0Y;
        if (listView != null) {
            listView.getViewTreeObserver().removeOnPreDrawListener(this.A1u);
            this.A0Y.removeCallbacks(this.A1G);
        }
        if (this.A1c) {
            super.A0R.A00(this.A39);
            this.A1c = false;
        }
        AnonymousClass2HL r12 = this.A0q;
        if (r12 != null) {
            r12.unregisterDataSetObserver(this.A1m);
        }
        C39841sC r03 = this.A0h;
        if (r03 != null) {
            ((AnonymousClass0JW) r03).A00.cancel(true);
        }
        A0w();
        AtomicReference atomicReference = A4n;
        AnonymousClass1LF r5 = (AnonymousClass1LF) atomicReference.get();
        if (r5.A00 == this) {
            StringBuilder A0S2 = AnonymousClass008.A0S("conversation/clearsession/jid ");
            A0S2.append(this.A14);
            Log.d(A0S2.toString());
            atomicReference.compareAndSet(r5, new AnonymousClass1LF(null, false, this.A2E));
        }
        if (isFinishing()) {
            this.A34.A04(this.A14, getLocalClassName());
        }
        AnonymousClass2HL r04 = this.A0q;
        if (!(r04 == null || r04.getCursor() == null)) {
            this.A0q.getCursor().close();
        }
        C10850fJ r05 = this.A0r;
        if (r05 != null) {
            ((AnonymousClass0JW) r05).A00.cancel(true);
        }
        if (this.A1a) {
            this.A3Y.A00.remove(this.A3X);
        }
        this.A2c.A00(this.A2b);
        this.A4U.A00(this.A4T);
        this.A2M.A00(this.A2L);
        this.A2l.A00(this.A2k);
        this.A24.A01(this.A22);
        this.A3p.A00(this.A3o);
        this.A4H.A00(this.A4G);
        C662733o r06 = this.A19;
        r06.A06.A00(r06.A05);
        this.A4K.A00(this.A21);
        C39441rX r07 = this.A0g;
        if (r07 != null) {
            ((AnonymousClass0JW) r07).A00.cancel(true);
            this.A0g = null;
        }
        MentionableEntry mentionableEntry = this.A0k;
        if (mentionableEntry != null) {
            mentionableEntry.removeTextChangedListener(this.A1s);
            this.A0k.removeTextChangedListener(this.A1q);
            this.A0k.setFilters(new InputFilter[0]);
            this.A0k.A06();
            this.A0k = null;
        }
        C69873Iw r13 = this.A15;
        C59842oN r08 = r13.A00;
        if (r08 != null) {
            r08.A0J = null;
            r13.A00 = null;
        }
        r13.A02 = null;
        r13.A01 = null;
        r13.A04 = null;
        r13.A03 = null;
        WaEditText waEditText = this.A0m;
        if (waEditText != null) {
            waEditText.removeTextChangedListener(this.A1r);
        }
        BroadcastReceiver broadcastReceiver = this.A0B;
        if (broadcastReceiver != null) {
            unregisterReceiver(broadcastReceiver);
            this.A0B = null;
        }
        C28301Tu.A05();
        if (this.A1R) {
            this.A3n.A01();
            this.A1R = false;
        }
        Runnable runnable = this.A1F;
        if (runnable != null) {
            this.A1p.removeCallbacks(runnable);
            this.A1F = null;
        }
        this.A4R.ANF(new RunnableEBaseShape0S0100000_I0_0(this.A2q, 28));
        if (Build.VERSION.SDK_INT >= 19 && (r1 = this.A1D) != null && r1.A0G()) {
            r1.A00();
        }
        AnonymousClass1S0 r09 = this.A0n;
        if (r09 != null) {
            r09.A00();
        }
        Set<Application.ActivityLifecycleCallbacks> set = this.A4b;
        for (Application.ActivityLifecycleCallbacks activityLifecycleCallbacks : set) {
            activityLifecycleCallbacks.onActivityDestroyed(this);
        }
        set.clear();
        this.A4c.clear();
        this.A4a.clear();
        this.A4d.clear();
        this.A0s = null;
    }

    @Override // X.ActivityC004602e, X.ActivityC004802g
    public boolean onKeyDown(int i, KeyEvent keyEvent) {
        C27131Oe r0;
        for (AnonymousClass1ME r02 : this.A4d) {
            if (r02.onKeyDown(i, keyEvent)) {
                return true;
            }
        }
        if (!keyEvent.isPrintingKey() || !this.A0k.isShown() || this.A0k.hasFocus() || ((r0 = this.A0l) != null && r0.A0P())) {
            return super.onKeyDown(i, keyEvent);
        }
        this.A0k.requestFocus();
        this.A0k.dispatchKeyEvent(keyEvent);
        return true;
    }

    @Override // X.ActivityC004602e
    public boolean onKeyUp(int i, KeyEvent keyEvent) {
        if ((i == 82 || i == 4) && A1K()) {
            return false;
        }
        if (this.A1Z) {
            if (i == 23) {
                if (keyEvent.getAction() == 1 && A1J()) {
                    C27131Oe r1 = this.A0l;
                    if (!r1.A0k) {
                        r1.A0N(true, this.A1X, true);
                        return true;
                    }
                }
            } else if (A1J()) {
                C27131Oe r12 = this.A0l;
                if (!r12.A0k) {
                    if (i == 19) {
                        r12.A0J(this.A1X);
                        return true;
                    } else if (i == 21) {
                        r12.A0N(false, this.A1X, true);
                        return true;
                    }
                }
            }
        }
        return super.onKeyUp(i, keyEvent);
    }

    @Override // X.ActivityC004702f
    public boolean onOptionsItemSelected(MenuItem menuItem) {
        for (AnonymousClass1PE r0 : this.A4c) {
            if (r0.AI8(menuItem)) {
                return true;
            }
        }
        return false;
    }

    @Override // X.AnonymousClass2DW, X.ActivityC004602e, X.ActivityC004702f, X.ActivityC004902h
    public void onPause() {
        C27131Oe r1;
        AnonymousClass377 r12;
        super.onPause();
        this.A1l = true;
        A0w();
        if (C28301Tu.A07()) {
            C28301Tu.A02();
        }
        A4l.put(this.A0z.A02(AnonymousClass02N.class), C002001d.A1l(this.A0k.getStringText()));
        A4k.put(this.A0z.A02(AnonymousClass02N.class), C006803i.A0M(this.A0k.getMentions()));
        StringBuilder sb = new StringBuilder("conversation/pause/cursor/count ");
        sb.append(this.A0q.getCursor().getCount());
        Log.d(sb.toString());
        StringBuilder sb2 = new StringBuilder("conversation/pause/appended/count ");
        sb2.append(this.A0q.A0N.size());
        Log.d(sb2.toString());
        Handler handler = this.A0C;
        if (handler != null && handler.hasMessages(0)) {
            this.A0C.removeMessages(0);
            PowerManager A0C2 = this.A2p.A0C();
            if (A0C2 == null) {
                Log.w("conversation/pause pm=null");
            } else if (A0C2.isScreenOn()) {
                this.A0C.sendEmptyMessage(0);
            }
        }
        if (this.A0Y.getHeight() != 0) {
            if (A1H()) {
                this.A1e = true;
                Log.d("conversation/dbgscroll/resumescrolltobottom/true");
                AnonymousClass0JS r0 = this.A2h;
                AnonymousClass02N r13 = this.A14;
                if (r13 != null) {
                    r0.A00.remove(r13);
                } else {
                    throw null;
                }
            } else {
                int firstVisiblePosition = this.A0Y.getFirstVisiblePosition();
                this.A01 = firstVisiblePosition;
                AnonymousClass008.A1K(AnonymousClass008.A0S("conversation/dbgscroll/resumescrolltopos/"), firstVisiblePosition);
                View childAt = this.A0Y.getChildAt(0);
                this.A02 = 0;
                if (childAt != null) {
                    this.A02 = childAt.getTop();
                }
                AnonymousClass0JS r7 = this.A2h;
                AnonymousClass02N r6 = this.A14;
                if (r6 != null) {
                    r7.A00.put(r6, new AnonymousClass2HZ(this.A0A, this.A01 - this.A0Y.getHeaderViewsCount(), this.A02));
                    StringBuilder sb3 = new StringBuilder("conversation/dbgscroll/scroll-state pos:");
                    sb3.append(this.A01);
                    sb3.append(" offset:");
                    sb3.append(this.A02);
                    sb3.append(" startRef:");
                    sb3.append(this.A0A);
                    sb3.append(" headerCount:");
                    sb3.append(this.A0Y.getHeaderViewsCount());
                    Log.d(sb3.toString());
                    this.A1e = false;
                    Log.d("conversation/dbgscroll/resumescrolltobottom/false");
                } else {
                    throw null;
                }
            }
        }
        if (Build.VERSION.SDK_INT >= 19 && (r12 = this.A1D) != null && r12.A0G()) {
            r12.A03();
        }
        if ((Build.VERSION.SDK_INT < 24 || !isInMultiWindowMode()) && (r1 = this.A0l) != null && r1.A0P()) {
            r1.A01();
        }
    }

    public boolean onPrepareOptionsMenu(Menu menu) {
        for (AnonymousClass1PE r0 : this.A4c) {
            r0.AIi(menu);
        }
        return super.onPrepareOptionsMenu(menu);
    }

    /* JADX WARNING: Removed duplicated region for block: B:16:0x0031  */
    /* JADX WARNING: Removed duplicated region for block: B:17:0x0037 A[SYNTHETIC, Splitter:B:17:0x0037] */
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onProvideAssistContent(android.app.assist.AssistContent r6) {
        /*
        // Method dump skipped, instructions count: 102
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onProvideAssistContent(android.app.assist.AssistContent):void");
    }

    @Override // X.ActivityC004702f
    public void onRestart() {
        this.A3w.A05(this.A0Y, "Conversation", 2, new RunnableEBaseShape0S0100000_I0_0(this, 49));
        super.onRestart();
    }

    /* JADX WARNING: Code restructure failed: missing block: B:23:0x00ed, code lost:
        if (r1.A01 != null) goto L_0x00ef;
     */
    @Override // X.ActivityC004602e, X.ActivityC004702f, X.ActivityC004902h
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onResume() {
        /*
        // Method dump skipped, instructions count: 581
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onResume():void");
    }

    @Override // X.AnonymousClass2DW, X.ActivityC004802g, X.AnonymousClass02i, X.ActivityC004902h, X.ActivityC005002j
    public void onSaveInstanceState(Bundle bundle) {
        super.onSaveInstanceState(bundle);
        AbstractC007503q r0 = this.A17;
        if (r0 != null) {
            C006803i.A0T(bundle, r0.A0n, "quotedMessage_");
        }
        this.A1E = Boolean.valueOf(C06170Sb.A01(this.A0E));
        bundle.putBoolean("added_by_qr_code", this.A1Q);
        bundle.putBoolean("has_number_from_url", this.A1X);
        bundle.putBoolean("has_text_from_url", this.A1Y);
        bundle.putBoolean("keyboard_visible", this.A1E.booleanValue());
        bundle.putLong("start_ref", this.A0A);
        bundle.putInt("on_resume_y_offset", this.A02);
        bundle.putInt("on_resume_scroll_pos", this.A01);
        bundle.putBoolean("on_resume_scroll_to_bottom", this.A1e);
        List<Number> list = this.A1O;
        if (list == null) {
            bundle.remove("viewed_view_once_messages");
        } else {
            long[] jArr = new long[list.size()];
            int i = 0;
            for (Number number : list) {
                jArr[i] = number.longValue();
                i++;
            }
            bundle.putLongArray("viewed_view_once_messages", jArr);
        }
        bundle.putLong("ephemeral_session_start", this.A35.A00);
    }

    public boolean onSearchRequested() {
        if (this.A0f != null) {
            return false;
        }
        A0W();
        this.A0y = AnonymousClass0AM.A01(this.A14);
        this.A4R.ANF(new RunnableEBaseShape1S0100000_I0_1(this, 1));
        if (this.A0e == null) {
            this.A0e = new C39711ry(this);
        }
        C27131Oe r1 = this.A0l;
        if (r1 == null || (!r1.A0P() && r1.A0I.getVisibility() != 0)) {
            this.A0E.setVisibility(8);
            A1K();
        }
        if (!C06170Sb.A01(this.A0E)) {
            InputMethodManager A0H2 = this.A2p.A0H();
            if (A0H2 != null) {
                A0H2.toggleSoftInput(0, 0);
            } else {
                throw null;
            }
        }
        this.A0f = A0B(this.A0e);
        return false;
    }

    /* JADX WARNING: Code restructure failed: missing block: B:144:0x0393, code lost:
        if (r0.booleanValue() != false) goto L_0x0395;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:151:0x03a3, code lost:
        if (r1 == 0) goto L_0x03d5;
     */
    /* JADX WARNING: Code restructure failed: missing block: B:66:0x0241, code lost:
        if (r13 == false) goto L_0x0168;
     */
    @Override // X.ActivityC004602e, X.ActivityC004802g, X.ActivityC004702f, X.ActivityC004902h
    /* Code decompiled incorrectly, please refer to instructions dump. */
    public void onStart() {
        /*
        // Method dump skipped, instructions count: 1169
        */
        throw new UnsupportedOperationException("Method not decompiled: com.whatsapp.Conversation.onStart():void");
    }

    @Override // X.ActivityC004802g, X.ActivityC004902h
    public void onStop() {
        AnonymousClass377 r1;
        super.onStop();
        this.A2X.A00(this);
        if (A4g == hashCode()) {
            this.A2P.A01(false);
        }
        this.A1E = Boolean.valueOf(C06170Sb.A01(this.A0E));
        C27131Oe r12 = this.A0l;
        if (r12 != null && r12.A0P()) {
            r12.A01();
        }
        A0w();
        if (this.A0i != null) {
            Log.i("conversation/cancel-load-messages");
            ((AnonymousClass0JW) this.A0i).A00.cancel(true);
        }
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/stop/release ");
        A0S2.append(SQLiteDatabase.releaseMemory());
        A0S2.append(" jid=");
        A0S2.append(this.A14);
        Log.i(A0S2.toString());
        if (this.A0q.getCursor() != null) {
            this.A0q.getCursor().deactivate();
        }
        if (Build.VERSION.SDK_INT >= 19 && (r1 = this.A1D) != null && r1.A0G()) {
            r1.A03();
        }
        this.A3t.A02(this.A3s);
        this.A0k.A00();
    }

    public void onWindowFocusChanged(boolean z) {
        StringBuilder A0S2 = AnonymousClass008.A0S("conversation/window-focus-changed ");
        A0S2.append(this.A0z.A09);
        A0S2.append(" ");
        A0S2.append(z);
        Log.i(A0S2.toString());
        super.onWindowFocusChanged(z);
        if (z && !((ActivityC004602e) this).A08.A06()) {
            this.A2g.A03((AnonymousClass02N) this.A0z.A02(AnonymousClass02N.class), true, true);
            if (this.A1i) {
                this.A3k.A04();
                this.A1i = false;
            }
        }
    }

    public class CallConfirmationFragment extends WaDialogFragment {
        public final AnonymousClass01A A00 = AnonymousClass01A.A00();
        public final AnonymousClass00D A01 = AnonymousClass00D.A00();
        public final AnonymousClass01X A02 = AnonymousClass01X.A00();

        @Override // androidx.fragment.app.DialogFragment
        public Dialog A0p(Bundle bundle) {
            ActivityC004902h A0A = A0A();
            if (A0A != null) {
                Bundle bundle2 = ((AnonymousClass037) this).A06;
                if (bundle2 != null) {
                    boolean z = bundle2.getBoolean("is_video_call");
                    AnonymousClass02N A012 = AnonymousClass02N.A01(((AnonymousClass037) this).A06.getString("jid"));
                    if (A012 != null) {
                        C007003k A0A2 = this.A00.A0A(A012);
                        int i = R.string.audio_call_confirmation_text;
                        if (z) {
                            i = R.string.video_call_confirmation_text;
                        }
                        AnonymousClass0MB r3 = new AnonymousClass0MB(A0A);
                        AnonymousClass01X r2 = this.A02;
                        r3.A01.A0E = r2.A06(i);
                        r3.A07(r2.A06(R.string.call), new DialogInterface$OnClickListenerC25611Hq(this, A0A, A0A2, z));
                        r3.A05(r2.A06(R.string.cancel), null);
                        AnonymousClass0MD A002 = r3.A00();
                        A002.setCanceledOnTouchOutside(true);
                        return A002;
                    }
                    throw null;
                }
                throw null;
            }
            throw null;
        }
    }
}
